(window.webpackJsonp=window.webpackJsonp||[]).push([[8,3],{"../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useClickOutside/useClickOutside.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useClickOutside}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),_util_misc_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/util/misc.js"),___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useSyncedRef/useSyncedRef.js"),__spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},DEFAULT_EVENTS=["mousedown","touchstart"];function useClickOutside(ref,callback,events){void 0===events&&(events=DEFAULT_EVENTS);var cbRef=Object(___WEBPACK_IMPORTED_MODULE_2__.a)(callback),refRef=Object(___WEBPACK_IMPORTED_MODULE_2__.a)(ref);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){function handler(event){if(refRef.current.current){var evtTarget=event.target,cb=cbRef.current;(!evtTarget||evtTarget&&!refRef.current.current.contains(evtTarget))&&cb.call(this,event)}}return events.forEach((function(name){return Object(_util_misc_js__WEBPACK_IMPORTED_MODULE_1__.c)(document,name,handler,{passive:!0})})),function(){events.forEach((function(name){return Object(_util_misc_js__WEBPACK_IMPORTED_MODULE_1__.b)(document,name,handler,{passive:!0})}))}}),__spreadArray([],events,!0))}},"../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useToggle/useToggle.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useToggle}));var react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js");var useSafeState=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useSafeState/useSafeState.js");function useToggle(initialState){void 0===initialState&&(initialState=!1);var _a=Object(useSafeState.a)(initialState),state=_a[0],setState=_a[1];return[state,Object(react.useCallback)((function(nextState){setState((function(prevState){return void 0===nextState?!prevState:Boolean(function resolveHookState(nextState,prevState){return"function"==typeof nextState?nextState(prevState):nextState}(nextState,prevState))}))}),[])]}},"../../node_modules/.pnpm/react-icons@4.3.1_react@17.0.2/node_modules/react-icons/fi/index.esm.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FiAlertCircle})),__webpack_require__.d(__webpack_exports__,"b",(function(){return FiCheck})),__webpack_require__.d(__webpack_exports__,"c",(function(){return FiCornerDownRight})),__webpack_require__.d(__webpack_exports__,"d",(function(){return FiEdit3})),__webpack_require__.d(__webpack_exports__,"e",(function(){return FiMenu})),__webpack_require__.d(__webpack_exports__,"f",(function(){return FiShuffle})),__webpack_require__.d(__webpack_exports__,"g",(function(){return FiSkipBack})),__webpack_require__.d(__webpack_exports__,"h",(function(){return FiSkipForward})),__webpack_require__.d(__webpack_exports__,"i",(function(){return FiSlash})),__webpack_require__.d(__webpack_exports__,"j",(function(){return FiTarget}));var _lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react-icons@4.3.1_react@17.0.2/node_modules/react-icons/lib/esm/index.js");function FiAlertCircle(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(props)}function FiCheck(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(props)}function FiCornerDownRight(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 10 20 15 15 20"}},{tag:"path",attr:{d:"M4 4v7a4 4 0 0 0 4 4h12"}}]})(props)}function FiEdit3(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"}},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}}]})(props)}function FiMenu(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(props)}function FiShuffle(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"}},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"}},{tag:"polyline",attr:{points:"21 16 21 21 16 21"}},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"}},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"}}]})(props)}function FiSkipBack(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"19 20 9 12 19 4 19 20"}},{tag:"line",attr:{x1:"5",y1:"19",x2:"5",y2:"5"}}]})(props)}function FiSkipForward(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 4 15 12 5 20 5 4"}},{tag:"line",attr:{x1:"19",y1:"5",x2:"19",y2:"19"}}]})(props)}function FiSlash(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"}}]})(props)}function FiTarget(props){return Object(_lib__WEBPACK_IMPORTED_MODULE_0__.a)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}}]})(props)}},"../../packages/lib/src/toolbar/Toolbar.module.css":function(module,exports,__webpack_require__){module.exports={toolbar:"Toolbar_toolbar__ldHxj",controls:"Toolbar_controls__24z8V",controlWrapper:"Toolbar_controlWrapper__4Ya9q",control:"Toolbar_control__1nxzo",sep:"Toolbar_sep__29jIA",btn:"Toolbar_btn__1yl7C btnClean",btnLike:"Toolbar_btnLike__259dI",icon:"Toolbar_icon__2zeYR",label:"Toolbar_label__22cl9",popup:"Toolbar_popup__99hcM",popupInner:"Toolbar_popupInner__3elGM"}},"../../packages/lib/src/toolbar/controls/DomainSlider/BoundEditor.module.css":function(module,exports,__webpack_require__){module.exports={boundEditor:"BoundEditor_boundEditor__CQoXd",label:"BoundEditor_label__2Iwmf",value:"BoundEditor_value__8CQXN",actionBtn:"BoundEditor_actionBtn__5nBfZ DomainTooltip_actionBtn__1q7it btnClean"}},"../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.module.css":function(module,exports,__webpack_require__){module.exports={root:"DomainSlider_root__1azSD",slider:"DomainSlider_slider__1Ab8H"}},"../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useToggle=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useToggle/useToggle.js"),useClickOutside=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useClickOutside/useClickOutside.js"),react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_default=__webpack_require__.n(react),useSyncedRef=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useSyncedRef/useSyncedRef.js"),useEventListener=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useEventListener/useEventListener.js"),util_const=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/util/const.js"),misc=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/util/misc.js"),WINDOW_OR_NULL=util_const.a?window:null;function useKeyboardEvent(keyOrPredicate,callback,deps,options){void 0===options&&(options={});var _a=options.event,event=void 0===_a?"keydown":_a,_b=options.target,target=void 0===_b?WINDOW_OR_NULL:_b,eventOptions=options.eventOptions,cbRef=Object(useSyncedRef.a)(callback),handler=Object(react.useMemo)((function(){var keyFilter,predicate="function"==typeof(keyFilter=keyOrPredicate)?keyFilter:"string"==typeof keyFilter?function(ev){return ev.key===keyFilter}:keyFilter?misc.e:misc.d;return function kbEventHandler(ev){predicate(ev)&&cbRef.current.call(this,ev)}}),deps);Object(useEventListener.a)(target,event,handler,eventOptions)}var index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.3.1_react@17.0.2/node_modules/react-icons/fi/index.esm.js"),hooks=__webpack_require__("../../packages/lib/src/vis/heatmap/hooks.ts"),ToggleBtn=__webpack_require__("../../packages/lib/src/toolbar/controls/ToggleBtn.tsx"),DomainSlider_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.module.css"),DomainSlider_module_default=__webpack_require__.n(DomainSlider_module),utils=__webpack_require__("../../packages/shared/src/utils.ts"),models=__webpack_require__("../../packages/lib/src/vis/models.ts"),vis_utils=__webpack_require__("../../packages/lib/src/vis/utils.ts"),BoundEditor_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/BoundEditor.module.css"),BoundEditor_module_default=__webpack_require__.n(BoundEditor_module),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),BoundEditor=Object(react.forwardRef)((function(props,ref){var bound=props.bound,value=props.value,isEditing=props.isEditing,hasError=props.hasError,onEditToggle=props.onEditToggle,onChange=props.onChange,id="".concat(bound,"-bound"),inputRef=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];function cancel(){onEditToggle(!1),setInputValue(Object(utils.c)(value))}return Object(react.useImperativeHandle)(ref,(function(){return{cancel:cancel}})),Object(react.useEffect)((function(){setInputValue(Object(utils.c)(value))}),[value,setInputValue]),Object(react.useEffect)((function(){var _inputRef$current,_inputRef$current2;isEditing||(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.blur());isEditing&&"min"===bound&&(null===(_inputRef$current2=inputRef.current)||void 0===_inputRef$current2||_inputRef$current2.focus())}),[isEditing,bound]),Object(jsx_runtime.jsxs)("form",{className:BoundEditor_module_default.a.boundEditor,"data-error":hasError||void 0,"data-editing":isEditing,onSubmit:function onSubmit(evt){evt.preventDefault();var parsedValue=Number.parseFloat(inputValue.replace("−","-")),newValue=Number.isNaN(parsedValue)?value:Object(vis_utils.e)(parsedValue);setInputValue(Object(utils.c)(newValue)),onChange(newValue),onEditToggle(!1)},children:[Object(jsx_runtime.jsx)("label",{id:"".concat(id,"-label"),className:BoundEditor_module_default.a.label,htmlFor:id,children:bound}),Object(jsx_runtime.jsx)("input",{id:id,ref:inputRef,className:BoundEditor_module_default.a.value,type:"text",name:"bound",value:inputValue,title:isEditing?void 0:value.toString(),"aria-labelledby":"".concat(id,"-label"),onChange:function onChange(evt){return setInputValue(evt.target.value)},onFocus:function onFocus(){isEditing||onEditToggle(!0)}}),Object(jsx_runtime.jsx)("button",{className:BoundEditor_module_default.a.actionBtn,type:"submit",disabled:!isEditing,"aria-label":"Apply ".concat(bound),children:Object(jsx_runtime.jsx)(index_esm.b,{})}),Object(jsx_runtime.jsx)("button",{className:BoundEditor_module_default.a.actionBtn,type:"button",disabled:!isEditing,"aria-label":"Cancel ".concat(bound),onClick:function onClick(){return cancel()},children:Object(jsx_runtime.jsx)(index_esm.i,{})})]})})),DomainSlider_BoundEditor=BoundEditor;try{BoundEditor.displayName="BoundEditor",BoundEditor.__docgenInfo={description:"",displayName:"BoundEditor",props:{bound:{defaultValue:null,description:"",name:"bound",required:!0,type:{name:"enum",value:[{value:'"max"'},{value:'"min"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},isEditing:{defaultValue:null,description:"",name:"isEditing",required:!0,type:{name:"boolean"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!0,type:{name:"boolean"}},onEditToggle:{defaultValue:null,description:"",name:"onEditToggle",required:!0,type:{name:"(force: boolean) => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(val: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/BoundEditor.tsx#BoundEditor"]={docgenInfo:BoundEditor.__docgenInfo,name:"BoundEditor",path:"../../packages/lib/src/toolbar/controls/DomainSlider/BoundEditor.tsx#BoundEditor"})}catch(__react_docgen_typescript_loader_error){}var _ERRORS,DomainTooltip_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/DomainTooltip.module.css"),DomainTooltip_module_default=__webpack_require__.n(DomainTooltip_module),defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),md_index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.3.1_react@17.0.2/node_modules/react-icons/md/index.esm.js"),ERRORS=(_ERRORS={},Object(defineProperty.a)(_ERRORS,models.a.MinGreater,{message:"Min greater than max",fallback:"data range"}),Object(defineProperty.a)(_ERRORS,models.a.InvalidMinWithScale,{message:"Custom min invalid with this scale",fallback:"data min"}),Object(defineProperty.a)(_ERRORS,models.a.InvalidMaxWithScale,{message:"Custom max invalid with this scale",fallback:"data max"}),Object(defineProperty.a)(_ERRORS,models.a.CustomMaxFallback,{message:"Custom min invalid with this scale",fallback:"custom max"}),_ERRORS);function ErrorMessage(props){var error=props.error,_props$showSwapBtn=props.showSwapBtn,showSwapBtn=void 0!==_props$showSwapBtn&&_props$showSwapBtn,onSwap=props.onSwap,_ERRORS$error=ERRORS[error],message=_ERRORS$error.message,fallback=_ERRORS$error.fallback;return Object(jsx_runtime.jsxs)("p",{className:DomainTooltip_module_default.a.error,children:[Object(jsx_runtime.jsxs)("span",{className:DomainTooltip_module_default.a.errorMessage,children:[message,Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)(index_esm.c,{})," falling back to ",Object(jsx_runtime.jsx)("strong",{children:fallback})]}),showSwapBtn&&onSwap&&Object(jsx_runtime.jsx)("button",{className:DomainTooltip_module_default.a.swapBtn,type:"button","aria-label":"Swap min and max",onClick:function onClick(){return onSwap()},children:Object(jsx_runtime.jsx)(md_index_esm.f,{})})]})}var DomainSlider_ErrorMessage=ErrorMessage;try{ErrorMessage.displayName="ErrorMessage",ErrorMessage.__docgenInfo={description:"",displayName:"ErrorMessage",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"enum",value:[{value:'"min-greater"'},{value:'"invalid-min-with-scale"'},{value:'"invalid-max-with-scale"'},{value:'"custom-max-fallback"'}]}},showSwapBtn:{defaultValue:null,description:"",name:"showSwapBtn",required:!1,type:{name:"boolean"}},onSwap:{defaultValue:null,description:"",name:"onSwap",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/ErrorMessage.tsx#ErrorMessage"]={docgenInfo:ErrorMessage.__docgenInfo,name:"ErrorMessage",path:"../../packages/lib/src/toolbar/controls/DomainSlider/ErrorMessage.tsx#ErrorMessage"})}catch(__react_docgen_typescript_loader_error){}var DomainTooltip=Object(react.forwardRef)((function(props,ref){var id=props.id,open=props.open,sliderDomain=props.sliderDomain,dataDomain=props.dataDomain,errors=props.errors,children=props.children,isAutoMin=props.isAutoMin,isAutoMax=props.isAutoMax,isEditingMin=props.isEditingMin,isEditingMax=props.isEditingMax,onAutoMinToggle=props.onAutoMinToggle,onAutoMaxToggle=props.onAutoMaxToggle,onEditMin=props.onEditMin,onEditMax=props.onEditMax,onChangeMin=props.onChangeMin,onChangeMax=props.onChangeMax,onSwap=props.onSwap,minGreater=errors.minGreater,minError=errors.minError,maxError=errors.maxError,minEditorRef=Object(react.useRef)(null),maxEditorRef=Object(react.useRef)(null);return Object(react.useImperativeHandle)(ref,(function(){return{cancelEditing:function cancelEditing(){var _minEditorRef$current,_maxEditorRef$current;null===(_minEditorRef$current=minEditorRef.current)||void 0===_minEditorRef$current||_minEditorRef$current.cancel(),null===(_maxEditorRef$current=maxEditorRef.current)||void 0===_maxEditorRef$current||_maxEditorRef$current.cancel()}}})),Object(jsx_runtime.jsx)("div",{id:id,className:DomainTooltip_module_default.a.tooltip,role:"dialog","aria-label":"Edit domain",hidden:!open,children:Object(jsx_runtime.jsxs)("div",{className:DomainTooltip_module_default.a.tooltipInner,children:[children,Object(jsx_runtime.jsxs)("div",{className:DomainTooltip_module_default.a.tooltipControls,children:[minGreater&&Object(jsx_runtime.jsx)(DomainSlider_ErrorMessage,{error:models.a.MinGreater,showSwapBtn:!isAutoMin&&!isAutoMax,onSwap:onSwap}),Object(jsx_runtime.jsx)(DomainSlider_BoundEditor,{ref:minEditorRef,bound:"min",value:sliderDomain[0],isEditing:isEditingMin,hasError:minGreater||!!minError,onEditToggle:onEditMin,onChange:onChangeMin}),minError&&Object(jsx_runtime.jsx)(DomainSlider_ErrorMessage,{error:minError}),Object(jsx_runtime.jsx)(DomainSlider_BoundEditor,{ref:maxEditorRef,bound:"max",value:sliderDomain[1],isEditing:isEditingMax,hasError:minGreater||!!maxError,onEditToggle:onEditMax,onChange:onChangeMax}),maxError&&Object(jsx_runtime.jsx)(DomainSlider_ErrorMessage,{error:maxError}),Object(jsx_runtime.jsxs)("p",{className:DomainTooltip_module_default.a.dataRange,children:["Data range"," ",Object(jsx_runtime.jsxs)("span",{children:["["," ",Object(jsx_runtime.jsx)("abbr",{title:dataDomain[0].toString(),children:Object(utils.b)(dataDomain[0])})," ",","," ",Object(jsx_runtime.jsx)("abbr",{title:dataDomain[1].toString(),children:Object(utils.b)(dataDomain[1])})," ","]"]})]}),Object(jsx_runtime.jsxs)("p",{className:DomainTooltip_module_default.a.autoscale,children:["Autoscale"," ",Object(jsx_runtime.jsx)(ToggleBtn.a,{label:"Min",raised:!0,value:isAutoMin,onToggle:onAutoMinToggle}),Object(jsx_runtime.jsx)(ToggleBtn.a,{label:"Max",raised:!0,value:isAutoMax,onToggle:onAutoMaxToggle})]})]})]})})})),DomainSlider_DomainTooltip=DomainTooltip;try{DomainTooltip.displayName="DomainTooltip",DomainTooltip.__docgenInfo={description:"",displayName:"DomainTooltip",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},sliderDomain:{defaultValue:null,description:"",name:"sliderDomain",required:!0,type:{name:"Domain"}},dataDomain:{defaultValue:null,description:"",name:"dataDomain",required:!0,type:{name:"Domain"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"DomainErrors"}},isAutoMin:{defaultValue:null,description:"",name:"isAutoMin",required:!0,type:{name:"boolean"}},isAutoMax:{defaultValue:null,description:"",name:"isAutoMax",required:!0,type:{name:"boolean"}},onAutoMinToggle:{defaultValue:null,description:"",name:"onAutoMinToggle",required:!0,type:{name:"() => void"}},onAutoMaxToggle:{defaultValue:null,description:"",name:"onAutoMaxToggle",required:!0,type:{name:"() => void"}},isEditingMin:{defaultValue:null,description:"",name:"isEditingMin",required:!0,type:{name:"boolean"}},isEditingMax:{defaultValue:null,description:"",name:"isEditingMax",required:!0,type:{name:"boolean"}},onEditMin:{defaultValue:null,description:"",name:"onEditMin",required:!0,type:{name:"(force: boolean) => void"}},onEditMax:{defaultValue:null,description:"",name:"onEditMax",required:!0,type:{name:"(force: boolean) => void"}},onChangeMin:{defaultValue:null,description:"",name:"onChangeMin",required:!0,type:{name:"(val: number) => void"}},onChangeMax:{defaultValue:null,description:"",name:"onChangeMax",required:!0,type:{name:"(val: number) => void"}},onSwap:{defaultValue:null,description:"",name:"onSwap",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/DomainTooltip.tsx#DomainTooltip"]={docgenInfo:DomainTooltip.__docgenInfo,name:"DomainTooltip",path:"../../packages/lib/src/toolbar/controls/DomainSlider/DomainTooltip.tsx#DomainTooltip"})}catch(__react_docgen_typescript_loader_error){}var useMeasure=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useMeasure/useMeasure.js"),AxisBottom=__webpack_require__("../../node_modules/.pnpm/@visx+axis@2.4.0_react@17.0.2/node_modules/@visx/axis/esm/axis/AxisBottom.js"),AxisLeft=__webpack_require__("../../node_modules/.pnpm/@visx+axis@2.4.0_react@17.0.2/node_modules/@visx/axis/esm/axis/AxisLeft.js"),linear=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/linear.js"),vis_hooks=__webpack_require__("../../packages/lib/src/vis/hooks.ts"),scales=__webpack_require__("../../packages/lib/src/vis/scales.ts"),Tick=__webpack_require__("../../packages/lib/src/vis/shared/Tick.tsx"),Histogram_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/Histogram.module.css"),Histogram_module_default=__webpack_require__.n(Histogram_module),objectWithoutProperties=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),heatmap_utils=__webpack_require__("../../packages/lib/src/vis/heatmap/utils.ts"),_excluded=["colorMap","invertColorMap"];function HistogramColorBar(props){var colorMap=props.colorMap,invertColorMap=props.invertColorMap,rectProps=Object(objectWithoutProperties.a)(props,_excluded),interpolator=Object(heatmap_utils.e)(colorMap,!!invertColorMap);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("defs",{children:Object(jsx_runtime.jsx)("linearGradient",{id:"ColorMapGradient",children:heatmap_utils.a.map((function(v){return Object(jsx_runtime.jsx)("stop",{offset:"".concat(100*v,"%"),stopColor:interpolator(v)},v)}))})}),Object(jsx_runtime.jsx)("rect",Object(objectSpread2.a)(Object(objectSpread2.a)({},rectProps),{},{fill:"url(#ColorMapGradient)"}))]})}var DomainSlider_HistogramColorBar=HistogramColorBar;try{HistogramColorBar.displayName="HistogramColorBar",HistogramColorBar.__docgenInfo={description:"",displayName:"HistogramColorBar",props:{colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/HistogramColorBar.tsx#HistogramColorBar"]={docgenInfo:HistogramColorBar.__docgenInfo,name:"HistogramColorBar",path:"../../packages/lib/src/toolbar/controls/DomainSlider/HistogramColorBar.tsx#HistogramColorBar"})}catch(__react_docgen_typescript_loader_error){}function HistogramIndicators(props){var positions=props.positions,height=props.height,_positions=Object(slicedToArray.a)(positions,2),xMin=_positions[0],xMax=_positions[1];return Object(jsx_runtime.jsxs)("g",{className:Histogram_module_default.a.indicators,children:[Object(jsx_runtime.jsx)("line",{x1:xMin,x2:xMin,y1:0,y2:height}),Object(jsx_runtime.jsx)("polygon",{points:"".concat(xMin,",0 ").concat(xMin,",").concat(10," ").concat(xMin+10,",").concat(5)}),Object(jsx_runtime.jsx)("line",{x1:xMax,x2:xMax,y1:0,y2:height}),Object(jsx_runtime.jsx)("polygon",{points:"".concat(xMax,",0 ").concat(xMax,",").concat(10," ").concat(xMax-10,",").concat(5)})]})}var DomainSlider_HistogramIndicators=HistogramIndicators;try{HistogramIndicators.displayName="HistogramIndicators",HistogramIndicators.__docgenInfo={description:"",displayName:"HistogramIndicators",props:{positions:{defaultValue:null,description:"",name:"positions",required:!0,type:{name:"Domain"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/HistogramIndicators.tsx#HistogramIndicators"]={docgenInfo:HistogramIndicators.__docgenInfo,name:"HistogramIndicators",path:"../../packages/lib/src/toolbar/controls/DomainSlider/HistogramIndicators.tsx#HistogramIndicators"})}catch(__react_docgen_typescript_loader_error){}function Histogram(props){var values=props.values,bins=props.bins,scaleType=props.scaleType,sliderDomain=props.sliderDomain,dataDomain=props.dataDomain,colorMap=props.colorMap,invertColorMap=props.invertColorMap,binDomain=Object(vis_hooks.d)(bins,scaleType)||vis_utils.c,_useSafeDomain=Object(hooks.b)(sliderDomain,dataDomain,scaleType),safeSliderDomain=Object(slicedToArray.a)(_useSafeDomain,1)[0],xDomain=Object(vis_hooks.c)([binDomain,safeSliderDomain,dataDomain]),barDomain=Object(vis_hooks.d)(values),yMax=barDomain?barDomain[1]:vis_utils.c[1],yMin=colorMap?-yMax/10:0,_useMeasure=Object(useMeasure.a)(),_useMeasure2=Object(slicedToArray.a)(_useMeasure,2),size=_useMeasure2[0],ref=_useMeasure2[1];if(!size)return Object(jsx_runtime.jsx)("div",{ref:ref,className:Histogram_module_default.a.container});var width=size.width,height=size.height,xScale=scales.a[scaleType].createScale({domain:xDomain,range:[0,width]}),yScale=Object(linear.a)({domain:[yMin,yMax],range:[0,height]}),indicatorPositions=safeSliderDomain.map(xScale);return Object(jsx_runtime.jsx)("div",{ref:ref,className:Histogram_module_default.a.container,children:Object(jsx_runtime.jsxs)("svg",{width:"100%",height:"100%",className:Histogram_module_default.a.histogram,children:[values.map((function(d,i){return Object(jsx_runtime.jsx)("rect",{className:Histogram_module_default.a.bar,x:xScale(bins[i]),y:height-yScale(d),width:xScale(bins[i+1])-xScale(bins[i])+.5,height:yScale(d)-yScale(0)},i)})),colorMap&&Object(jsx_runtime.jsx)(DomainSlider_HistogramColorBar,{x:indicatorPositions[0],y:height-yScale(0),width:indicatorPositions[1]-indicatorPositions[0],height:yScale(0)-yScale(yMin),colorMap:colorMap,invertColorMap:invertColorMap}),Object(jsx_runtime.jsx)(DomainSlider_HistogramIndicators,{positions:indicatorPositions,height:height}),Object(jsx_runtime.jsx)(AxisBottom.a,{top:height,scale:xScale,numTicks:Object(vis_utils.d)(width),tickClassName:Histogram_module_default.a.tick,tickComponent:Tick.a,tickFormat:xScale.tickFormat(Object(vis_utils.d)(width),".3~g")}),Object(jsx_runtime.jsx)(AxisLeft.a,{scale:yScale.range([height,0]),numTicks:Object(vis_utils.d)(height),tickClassName:Histogram_module_default.a.tick,tickComponent:Tick.a,tickFormat:yScale.tickFormat(Object(vis_utils.d)(height),".3~g")})]})})}var DomainSlider_Histogram=Histogram;try{Histogram.displayName="Histogram",Histogram.__docgenInfo={description:"",displayName:"Histogram",props:{scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"enum",value:[{value:'"linear"'},{value:'"log"'},{value:'"symlog"'},{value:'"sqrt"'},{value:'"gamma"'}]}},dataDomain:{defaultValue:null,description:"",name:"dataDomain",required:!0,type:{name:"Domain"}},sliderDomain:{defaultValue:null,description:"",name:"sliderDomain",required:!0,type:{name:"Domain"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"number[]"}},bins:{defaultValue:null,description:"",name:"bins",required:!0,type:{name:"number[]"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!1,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/Histogram.tsx#Histogram"]={docgenInfo:Histogram.__docgenInfo,name:"Histogram",path:"../../packages/lib/src/toolbar/controls/DomainSlider/Histogram.tsx#Histogram"})}catch(__react_docgen_typescript_loader_error){}var _jsxFileName="/Users/brians/git/react-slider/src/components/ReactSlider/ReactSlider.jsx";function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function pauseEvent(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function sanitizeInValue(x){return null==x?[]:Array.isArray(x)?x.slice():[x]}function prepareOutValue(x){return null!==x&&1===x.length?x[0]:x.slice()}function addHandlers(eventMap){Object.keys(eventMap).forEach((function(key){"undefined"!=typeof document&&document.addEventListener(key,eventMap[key],!1)}))}function trimAlignValue(val,props){return alignValue(function trimValue(val,props){var trimmed=val;trimmed<=props.min&&(trimmed=props.min);trimmed>=props.max&&(trimmed=props.max);return trimmed}(val,props),props)}function alignValue(val,props){var valModStep=(val-props.min)%props.step,alignedValue=val-valModStep;return 2*Math.abs(valModStep)>=props.step&&(alignedValue+=valModStep>0?props.step:-props.step),parseFloat(alignedValue.toFixed(5))}var ReactSlider_ReactSlider=function(_React$Component){function ReactSlider(_props){var _this;(_this=_React$Component.call(this,_props)||this).onKeyUp=function(){_this.onEnd()},_this.onMouseUp=function(){_this.onEnd(_this.getMouseEventMap())},_this.onTouchEnd=function(){_this.onEnd(_this.getTouchEventMap())},_this.onBlur=function(){_this.setState({index:-1},_this.onEnd(_this.getKeyDownEventMap()))},_this.onMouseMove=function(e){_this.setState({pending:!0});var position=_this.getMousePosition(e),diffPosition=_this.getDiffPosition(position[0]),newValue=_this.getValueFromPosition(diffPosition);_this.move(newValue)},_this.onTouchMove=function(e){if(!(e.touches.length>1)){_this.setState({pending:!0});var position=_this.getTouchPosition(e);if(void 0===_this.isScrolling){var diffMainDir=position[0]-_this.startPosition[0],diffScrollDir=position[1]-_this.startPosition[1];_this.isScrolling=Math.abs(diffScrollDir)>Math.abs(diffMainDir)}if(_this.isScrolling)_this.setState({index:-1});else{var diffPosition=_this.getDiffPosition(position[0]),newValue=_this.getValueFromPosition(diffPosition);_this.move(newValue)}}},_this.onKeyDown=function(e){if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(_this.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),_this.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),_this.moveUpByStep();break;case"Home":e.preventDefault(),_this.move(_this.props.min);break;case"End":e.preventDefault(),_this.move(_this.props.max);break;case"PageDown":e.preventDefault(),_this.moveDownByStep(_this.props.pageFn(_this.props.step));break;case"PageUp":e.preventDefault(),_this.moveUpByStep(_this.props.pageFn(_this.props.step))}},_this.onSliderMouseDown=function(e){if(!_this.props.disabled&&2!==e.button){if(_this.setState({pending:!0}),!_this.props.snapDragDisabled){var position=_this.getMousePosition(e);_this.forceValueFromPosition(position[0],(function(i){_this.start(i,position[0]),addHandlers(_this.getMouseEventMap())}))}pauseEvent(e)}},_this.onSliderClick=function(e){if(!_this.props.disabled&&_this.props.onSliderClick&&!_this.hasMoved){var position=_this.getMousePosition(e),valueAtPos=trimAlignValue(_this.calcValue(_this.calcOffsetFromPosition(position[0])),_this.props);_this.props.onSliderClick(valueAtPos)}},_this.createOnKeyDown=function(i){return function(e){_this.props.disabled||(_this.start(i),addHandlers(_this.getKeyDownEventMap()),pauseEvent(e))}},_this.createOnMouseDown=function(i){return function(e){if(!_this.props.disabled&&2!==e.button){_this.setState({pending:!0});var position=_this.getMousePosition(e);_this.start(i,position[0]),addHandlers(_this.getMouseEventMap()),pauseEvent(e)}}},_this.createOnTouchStart=function(i){return function(e){if(!(_this.props.disabled||e.touches.length>1)){_this.setState({pending:!0});var position=_this.getTouchPosition(e);_this.startPosition=position,_this.isScrolling=void 0,_this.start(i,position[0]),addHandlers(_this.getTouchEventMap()),function stopPropagation(e){e.stopPropagation&&e.stopPropagation()}(e)}}},_this.handleResize=function(){var resizeTimeout=window.setTimeout((function(){_this.pendingResizeTimeouts.shift(),_this.resize()}),0);_this.pendingResizeTimeouts.push(resizeTimeout)},_this.renderThumb=function(style,i){var className=_this.props.thumbClassName+" "+_this.props.thumbClassName+"-"+i+" "+(_this.state.index===i?_this.props.thumbActiveClassName:""),props={ref:function ref(r){_this["thumb"+i]=r},key:_this.props.thumbClassName+"-"+i,className:className,style:style,onMouseDown:_this.createOnMouseDown(i),onTouchStart:_this.createOnTouchStart(i),onFocus:_this.createOnKeyDown(i),tabIndex:0,role:"slider","aria-orientation":_this.props.orientation,"aria-valuenow":_this.state.value[i],"aria-valuemin":_this.props.min,"aria-valuemax":_this.props.max,"aria-label":Array.isArray(_this.props.ariaLabel)?_this.props.ariaLabel[i]:_this.props.ariaLabel,"aria-labelledby":Array.isArray(_this.props.ariaLabelledby)?_this.props.ariaLabelledby[i]:_this.props.ariaLabelledby},state={index:i,value:prepareOutValue(_this.state.value),valueNow:_this.state.value[i]};return _this.props.ariaValuetext&&(props["aria-valuetext"]="string"==typeof _this.props.ariaValuetext?_this.props.ariaValuetext:_this.props.ariaValuetext(state)),_this.props.renderThumb(props,state)},_this.renderTrack=function(i,offsetFrom,offsetTo){var props={key:_this.props.trackClassName+"-"+i,className:_this.props.trackClassName+" "+_this.props.trackClassName+"-"+i,style:_this.buildTrackStyle(offsetFrom,_this.state.upperBound-offsetTo)},state={index:i,value:prepareOutValue(_this.state.value)};return _this.props.renderTrack(props,state)};var value=sanitizeInValue(_props.value);value.length||(value=sanitizeInValue(_props.defaultValue)),_this.pendingResizeTimeouts=[];for(var zIndices=[],i=0;i<value.length;i+=1)value[i]=trimAlignValue(value[i],_props),zIndices.push(i);return _this.state={index:-1,upperBound:0,sliderLength:0,value:value,zIndices:zIndices},_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ReactSlider,_React$Component);var _proto=ReactSlider.prototype;return _proto.componentDidMount=function componentDidMount(){"undefined"!=typeof window&&(window.addEventListener("resize",this.handleResize),this.resize())},ReactSlider.getDerivedStateFromProps=function getDerivedStateFromProps(props,state){var value=sanitizeInValue(props.value);return value.length?state.pending?null:{value:value.map((function(item){return trimAlignValue(item,props)}))}:null},_proto.componentDidUpdate=function componentDidUpdate(){0===this.state.upperBound&&this.resize()},_proto.componentWillUnmount=function componentWillUnmount(){this.clearPendingResizeTimeouts(),"undefined"!=typeof window&&window.removeEventListener("resize",this.handleResize)},_proto.onEnd=function onEnd(eventMap){eventMap&&function removeHandlers(eventMap){Object.keys(eventMap).forEach((function(key){"undefined"!=typeof document&&document.removeEventListener(key,eventMap[key],!1)}))}(eventMap),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},_proto.getValue=function getValue(){return prepareOutValue(this.state.value)},_proto.getClosestIndex=function getClosestIndex(pixelOffset){for(var minDist=Number.MAX_VALUE,closestIndex=-1,value=this.state.value,l=value.length,i=0;i<l;i+=1){var offset=this.calcOffset(value[i]),dist=Math.abs(pixelOffset-offset);dist<minDist&&(minDist=dist,closestIndex=i)}return closestIndex},_proto.getMousePosition=function getMousePosition(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},_proto.getTouchPosition=function getTouchPosition(e){var touch=e.touches[0];return[touch["page"+this.axisKey()],touch["page"+this.orthogonalAxisKey()]]},_proto.getKeyDownEventMap=function getKeyDownEventMap(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},_proto.getMouseEventMap=function getMouseEventMap(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},_proto.getTouchEventMap=function getTouchEventMap(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},_proto.getValueFromPosition=function getValueFromPosition(position){var diffValue=position/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return trimAlignValue(this.state.startValue+diffValue,this.props)},_proto.getDiffPosition=function getDiffPosition(position){var diffPosition=position-this.state.startPosition;return this.props.invert&&(diffPosition*=-1),diffPosition},_proto.resize=function resize(){var slider=this.slider,thumb=this.thumb0;if(slider&&thumb){var sizeKey=this.sizeKey(),sliderRect=slider.getBoundingClientRect(),sliderSize=slider[sizeKey],sliderMax=sliderRect[this.posMaxKey()],sliderMin=sliderRect[this.posMinKey()],thumbSize=thumb.getBoundingClientRect()[sizeKey.replace("client","").toLowerCase()],upperBound=sliderSize-thumbSize,sliderLength=Math.abs(sliderMax-sliderMin);this.state.upperBound===upperBound&&this.state.sliderLength===sliderLength&&this.state.thumbSize===thumbSize||this.setState({upperBound:upperBound,sliderLength:sliderLength,thumbSize:thumbSize})}},_proto.calcOffset=function calcOffset(value){var range=this.props.max-this.props.min;return 0===range?0:(value-this.props.min)/range*this.state.upperBound},_proto.calcValue=function calcValue(offset){return offset/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},_proto.calcOffsetFromPosition=function calcOffsetFromPosition(position){var sliderRect=this.slider.getBoundingClientRect(),sliderMax=sliderRect[this.posMaxKey()],sliderMin=sliderRect[this.posMinKey()],pixelOffset=position-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?sliderMax:sliderMin));return this.props.invert&&(pixelOffset=this.state.sliderLength-pixelOffset),pixelOffset-=this.state.thumbSize/2},_proto.forceValueFromPosition=function forceValueFromPosition(position,callback){var _this2=this,pixelOffset=this.calcOffsetFromPosition(position),closestIndex=this.getClosestIndex(pixelOffset),nextValue=trimAlignValue(this.calcValue(pixelOffset),this.props),value=this.state.value.slice();value[closestIndex]=nextValue;for(var i=0;i<value.length-1;i+=1)if(value[i+1]-value[i]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:value},(function(){callback(closestIndex),_this2.fireChangeEvent("onChange")}))},_proto.clearPendingResizeTimeouts=function clearPendingResizeTimeouts(){do{var nextTimeout=this.pendingResizeTimeouts.shift();clearTimeout(nextTimeout)}while(this.pendingResizeTimeouts.length)},_proto.start=function start(i,position){var thumbRef=this["thumb"+i];thumbRef&&thumbRef.focus();var zIndices=this.state.zIndices;zIndices.splice(zIndices.indexOf(i),1),zIndices.push(i),this.setState((function(prevState){return{startValue:prevState.value[i],startPosition:void 0!==position?position:prevState.startPosition,index:i,zIndices:zIndices}}))},_proto.moveUpByStep=function moveUpByStep(step){void 0===step&&(step=this.props.step);var newValue=trimAlignValue(this.state.value[this.state.index]+step,this.props);this.move(Math.min(newValue,this.props.max))},_proto.moveDownByStep=function moveDownByStep(step){void 0===step&&(step=this.props.step);var newValue=trimAlignValue(this.state.value[this.state.index]-step,this.props);this.move(Math.max(newValue,this.props.min))},_proto.move=function move(newValue){var _this$state=this.state,index=_this$state.index,value=_this$state.value,length=value.length,oldValue=value[index];if(newValue!==oldValue){this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;var _this$props=this.props,pearling=_this$props.pearling,max=_this$props.max,min=_this$props.min,minDistance=_this$props.minDistance;if(!pearling){if(index>0){var valueBefore=value[index-1];newValue<valueBefore+minDistance&&(newValue=valueBefore+minDistance)}if(index<length-1){var valueAfter=value[index+1];newValue>valueAfter-minDistance&&(newValue=valueAfter-minDistance)}}value[index]=newValue,pearling&&length>1&&(newValue>oldValue?(this.pushSucceeding(value,minDistance,index),function trimSucceeding(length,nextValue,minDistance,max){for(var i=0;i<length;i+=1){var padding=max-i*minDistance;nextValue[length-1-i]>padding&&(nextValue[length-1-i]=padding)}}(length,value,minDistance,max)):newValue<oldValue&&(this.pushPreceding(value,minDistance,index),function trimPreceding(length,nextValue,minDistance,min){for(var i=0;i<length;i+=1){var padding=min+i*minDistance;nextValue[i]<padding&&(nextValue[i]=padding)}}(length,value,minDistance,min))),this.setState({value:value},this.fireChangeEvent.bind(this,"onChange"))}},_proto.pushSucceeding=function pushSucceeding(value,minDistance,index){var i,padding;for(padding=value[i=index]+minDistance;null!==value[i+1]&&padding>value[i+1];padding=value[i+=1]+minDistance)value[i+1]=alignValue(padding,this.props)},_proto.pushPreceding=function pushPreceding(value,minDistance,index){for(var i=index,padding=value[i]-minDistance;null!==value[i-1]&&padding<value[i-1];padding=value[i-=1]-minDistance)value[i-1]=alignValue(padding,this.props)},_proto.axisKey=function axisKey(){return"vertical"===this.props.orientation?"Y":"X"},_proto.orthogonalAxisKey=function orthogonalAxisKey(){return"vertical"===this.props.orientation?"X":"Y"},_proto.posMinKey=function posMinKey(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},_proto.posMaxKey=function posMaxKey(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},_proto.sizeKey=function sizeKey(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},_proto.fireChangeEvent=function fireChangeEvent(event){this.props[event]&&this.props[event](prepareOutValue(this.state.value),this.state.index)},_proto.buildThumbStyle=function buildThumbStyle(offset,i){var style={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():"",zIndex:this.state.zIndices.indexOf(i)+1};return style[this.posMinKey()]=offset+"px",style},_proto.buildTrackStyle=function buildTrackStyle(min,max){var obj={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():""};return obj[this.posMinKey()]=min,obj[this.posMaxKey()]=max,obj},_proto.buildMarkStyle=function buildMarkStyle(offset){var _ref;return(_ref={position:"absolute"})[this.posMinKey()]=offset,_ref},_proto.renderThumbs=function renderThumbs(offset){for(var length=offset.length,styles=[],i=0;i<length;i+=1)styles[i]=this.buildThumbStyle(offset[i],i);for(var res=[],_i=0;_i<length;_i+=1)res[_i]=this.renderThumb(styles[_i],_i);return res},_proto.renderTracks=function renderTracks(offset){var tracks=[],lastIndex=offset.length-1;tracks.push(this.renderTrack(0,0,offset[0]));for(var i=0;i<lastIndex;i+=1)tracks.push(this.renderTrack(i+1,offset[i],offset[i+1]));return tracks.push(this.renderTrack(lastIndex+1,offset[lastIndex],this.state.upperBound)),tracks},_proto.renderMarks=function renderMarks(){var _this3=this,marks=this.props.marks,range=this.props.max-this.props.min+1;return"boolean"==typeof marks?marks=Array.from({length:range}).map((function(_,key){return key})):"number"==typeof marks&&(marks=Array.from({length:range}).map((function(_,key){return key})).filter((function(key){return key%marks==0}))),marks.map(parseFloat).sort((function(a,b){return a-b})).map((function(mark){var offset=_this3.calcOffset(mark),props={key:mark,className:_this3.props.markClassName,style:_this3.buildMarkStyle(offset)};return _this3.props.renderMark(props)}))},_proto.render=function render(){for(var _this4=this,offset=[],value=this.state.value,l=value.length,i=0;i<l;i+=1)offset[i]=this.calcOffset(value[i],i);var tracks=this.props.withTracks?this.renderTracks(offset):null,thumbs=this.renderThumbs(offset),marks=this.props.marks?this.renderMarks():null;return react_default.a.createElement("div",{ref:function ref(r){_this4.slider=r},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},tracks,thumbs,marks)},ReactSlider}(react_default.a.Component);ReactSlider_ReactSlider.displayName="ReactSlider",ReactSlider_ReactSlider.defaultProps={min:0,max:100,step:1,pageFn:function pageFn(step){return 10*step},minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:function renderThumb(props){return react_default.a.createElement("div",_extends({},props,{__self:ReactSlider_ReactSlider,__source:{fileName:_jsxFileName,lineNumber:353,columnNumber:31}}))},renderTrack:function renderTrack(props){return react_default.a.createElement("div",_extends({},props,{__self:ReactSlider_ReactSlider,__source:{fileName:_jsxFileName,lineNumber:354,columnNumber:31}}))},renderMark:function renderMark(props){return react_default.a.createElement("span",_extends({},props,{__self:ReactSlider_ReactSlider,__source:{fileName:_jsxFileName,lineNumber:355,columnNumber:30}}))}},ReactSlider_ReactSlider.propTypes={};var components_ReactSlider_ReactSlider=ReactSlider_ReactSlider,Thumb_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/Thumb.module.css"),Thumb_module_default=__webpack_require__.n(Thumb_module),Thumb_excluded=["bound","isAuto","hasError","AutoIcon"],Thumb=Object(react.forwardRef)((function(props,ref){var bound=props.bound,isAuto=props.isAuto,hasError=props.hasError,AutoIcon=props.AutoIcon,thumbProps=Object(objectWithoutProperties.a)(props,Thumb_excluded);return Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({ref:ref},thumbProps),{},{className:Thumb_module_default.a.thumb,"aria-label":"Change ".concat(bound," limit"),"data-auto":isAuto,"data-error":hasError||void 0,children:Object(jsx_runtime.jsxs)("div",{className:Thumb_module_default.a.thumbBtnLike,children:[isAuto&&Object(jsx_runtime.jsx)(AutoIcon,{className:Thumb_module_default.a.icon}),!isAuto&&hasError&&Object(jsx_runtime.jsx)(index_esm.a,{className:Thumb_module_default.a.icon,strokeWidth:"3"})]})}))})),DomainSlider_Thumb=Thumb;try{Thumb.displayName="Thumb",Thumb.__docgenInfo={description:"",displayName:"Thumb",props:{bound:{defaultValue:null,description:"",name:"bound",required:!0,type:{name:"enum",value:[{value:'"max"'},{value:'"min"'}]}},hasError:{defaultValue:null,description:"",name:"hasError",required:!0,type:{name:"boolean"}},isAuto:{defaultValue:null,description:"",name:"isAuto",required:!0,type:{name:"boolean"}},AutoIcon:{defaultValue:null,description:"",name:"AutoIcon",required:!0,type:{name:"IconType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/Thumb.tsx#Thumb"]={docgenInfo:Thumb.__docgenInfo,name:"Thumb",path:"../../packages/lib/src/toolbar/controls/DomainSlider/Thumb.tsx#Thumb"})}catch(__react_docgen_typescript_loader_error){}var Track_module=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/Track.module.css"),Track_module_default=__webpack_require__.n(Track_module);function Track(props){var scale=props.scale,dataDomain=props.dataDomain,_dataDomain=Object(slicedToArray.a)(dataDomain,2),min=_dataDomain[0],max=_dataDomain[1],cssScale=scale.copy().range([0,100]);return Object(jsx_runtime.jsx)("div",{className:Track_module_default.a.track,children:Object(jsx_runtime.jsx)("div",{className:Track_module_default.a.dataTrack,style:{left:"".concat(cssScale(min),"%"),right:"".concat(100-cssScale(max),"%")}})})}var DomainSlider_Track=Track;try{Track.displayName="Track",Track.__docgenInfo={description:"",displayName:"Track",props:{scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"AxisScale"}},dataDomain:{defaultValue:null,description:"",name:"dataDomain",required:!0,type:{name:"Domain"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/Track.tsx#Track"]={docgenInfo:Track.__docgenInfo,name:"Track",path:"../../packages/lib/src/toolbar/controls/DomainSlider/Track.tsx#Track"})}catch(__react_docgen_typescript_loader_error){}var SLIDER_RANGE=[1,100];function ScaledSlider(props){var value=props.value,dataDomain=props.dataDomain,safeVisDomain=props.safeVisDomain,scaleType=props.scaleType,errors=props.errors,isAutoMin=props.isAutoMin,isAutoMax=props.isAutoMax,onChange=props.onChange,onDone=props.onAfterChange,minGreater=errors.minGreater,minError=errors.minError,maxError=errors.maxError,sliderExtent=Object(vis_utils.g)(safeVisDomain,.3,scaleType),scale=Object(vis_utils.f)(scaleType,{domain:sliderExtent.map((function(val){return Object(vis_utils.e)(val)})),range:SLIDER_RANGE,clamp:!0}),_getSafeDomain=Object(heatmap_utils.g)(value,dataDomain,scaleType),scaledValue=Object(slicedToArray.a)(_getSafeDomain,1)[0].map(scale).map(Math.round),_useState=Object(react.useState)(scaledValue),_useState2=Object(slicedToArray.a)(_useState,2),beforeChangeValue=_useState2[0],setBeforeChangeValue=_useState2[1];function handleChange(newScaledValue){var done=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_newScaledValue=Object(slicedToArray.a)(newScaledValue,2),newScaledMin=_newScaledValue[0],newScaledMax=_newScaledValue[1],hasMinChanged=newScaledMin!==beforeChangeValue[0],hasMaxChanged=newScaledMax!==beforeChangeValue[1],newValue=[hasMinChanged?scale.invert(newScaledMin):value[0],hasMaxChanged?scale.invert(newScaledMax):value[1]];done?onDone(hasMinChanged,hasMaxChanged):onChange(newValue)}return Object(jsx_runtime.jsx)(components_ReactSlider_ReactSlider,{className:DomainSlider_module_default.a.slider,pearling:!0,min:SLIDER_RANGE[0],max:SLIDER_RANGE[1],value:scaledValue,onBeforeChange:setBeforeChangeValue,onChange:function onChange(bounds){return handleChange(bounds)},onAfterChange:function onAfterChange(bounds){return handleChange(bounds,!0)},renderThumb:function renderThumb(thumbProps,_ref){var index=_ref.index;return Object(jsx_runtime.jsx)(DomainSlider_Thumb,Object(objectSpread2.a)({bound:0===index?"min":"max",isAuto:0===index?isAutoMin:isAutoMax,hasError:minGreater||(0===index?!!minError:!!maxError),AutoIcon:0===index?index_esm.g:index_esm.h},thumbProps))},renderTrack:function renderTrack(_ref2,_ref3){var key=_ref2.key;return 0===_ref3.index?Object(jsx_runtime.jsx)(DomainSlider_Track,{scale:scale,dataDomain:dataDomain},key):null}})}var DomainSlider_ScaledSlider=ScaledSlider;try{ScaledSlider.displayName="ScaledSlider",ScaledSlider.__docgenInfo={description:"",displayName:"ScaledSlider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Domain"}},dataDomain:{defaultValue:null,description:"",name:"dataDomain",required:!0,type:{name:"Domain"}},safeVisDomain:{defaultValue:null,description:"",name:"safeVisDomain",required:!0,type:{name:"Domain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"enum",value:[{value:'"linear"'},{value:'"log"'},{value:'"symlog"'},{value:'"sqrt"'},{value:'"gamma"'}]}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"DomainErrors"}},isAutoMin:{defaultValue:null,description:"",name:"isAutoMin",required:!0,type:{name:"boolean"}},isAutoMax:{defaultValue:null,description:"",name:"isAutoMax",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newValue: Domain) => void"}},onAfterChange:{defaultValue:null,description:"",name:"onAfterChange",required:!0,type:{name:"(hasMinChanged: boolean, hasMaxChanged: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/ScaledSlider.tsx#ScaledSlider"]={docgenInfo:ScaledSlider.__docgenInfo,name:"ScaledSlider",path:"../../packages/lib/src/toolbar/controls/DomainSlider/ScaledSlider.tsx#ScaledSlider"})}catch(__react_docgen_typescript_loader_error){}function DomainSlider(props){var dataDomain=props.dataDomain,customDomain=props.customDomain,scaleType=props.scaleType,onCustomDomainChange=props.onCustomDomainChange,histogram=props.histogram,visDomain=Object(hooks.c)(customDomain,dataDomain),_useSafeDomain=Object(hooks.b)(visDomain,dataDomain,scaleType),_useSafeDomain2=Object(slicedToArray.a)(_useSafeDomain,2),safeDomain=_useSafeDomain2[0],errors=_useSafeDomain2[1],_useState=Object(react.useState)(visDomain),_useState2=Object(slicedToArray.a)(_useState,2),sliderDomain=_useState2[0],setSliderDomain=_useState2[1];Object(react.useEffect)((function(){setSliderDomain(visDomain)}),[visDomain,setSliderDomain]);var isAutoMin=null===customDomain[0],isAutoMax=null===customDomain[1],_useToggle=Object(useToggle.a)(!1),_useToggle2=Object(slicedToArray.a)(_useToggle,2),hovered=_useToggle2[0],toggleHovered=_useToggle2[1],_useToggle3=Object(useToggle.a)(!1),_useToggle4=Object(slicedToArray.a)(_useToggle3,2),isEditingMin=_useToggle4[0],toggleEditingMin=_useToggle4[1],_useToggle5=Object(useToggle.a)(!1),_useToggle6=Object(slicedToArray.a)(_useToggle5,2),isEditingMax=_useToggle6[0],toggleEditingMax=_useToggle6[1],isEditing=isEditingMin||isEditingMax;function toggleEditing(force){toggleEditingMin(force),toggleEditingMax(force)}function cancelEditing(){var _tooltipRef$current;isEditing&&(toggleEditing(!1),null===(_tooltipRef$current=tooltipRef.current)||void 0===_tooltipRef$current||_tooltipRef$current.cancelEditing())}var rootRef=Object(react.useRef)(null),tooltipRef=Object(react.useRef)(null);return Object(useClickOutside.a)(rootRef,cancelEditing),useKeyboardEvent("Escape",(function(){toggleHovered(!1),cancelEditing()})),Object(jsx_runtime.jsxs)("div",{ref:rootRef,className:DomainSlider_module_default.a.root,onPointerEnter:function onPointerEnter(){return toggleHovered(!0)},onPointerLeave:function onPointerLeave(){return toggleHovered(!1)},children:[Object(jsx_runtime.jsx)(DomainSlider_ScaledSlider,{value:sliderDomain,safeVisDomain:safeDomain,dataDomain:dataDomain,scaleType:scaleType,errors:errors,isAutoMin:isAutoMin,isAutoMax:isAutoMax,onChange:function onChange(newValue){setSliderDomain(newValue),toggleEditing(!1)},onAfterChange:function onAfterChange(hasMinChanged,hasMaxChanged){onCustomDomainChange([hasMinChanged?sliderDomain[0]:customDomain[0],hasMaxChanged?sliderDomain[1]:customDomain[1]])}}),Object(jsx_runtime.jsx)(ToggleBtn.a,{iconOnly:!0,small:!0,label:"Edit domain","aria-expanded":hovered||isEditing,"aria-controls":"domain-tooltip",icon:index_esm.d,value:isEditing,onToggle:function onToggle(){return toggleEditing(!isEditing)}}),Object(jsx_runtime.jsx)(DomainSlider_DomainTooltip,{ref:tooltipRef,id:"domain-tooltip",open:hovered||isEditing,sliderDomain:sliderDomain,dataDomain:dataDomain,errors:errors,isAutoMin:isAutoMin,isAutoMax:isAutoMax,onAutoMinToggle:function onAutoMinToggle(){var newMin=isAutoMin?dataDomain[0]:null;onCustomDomainChange([newMin,customDomain[1]]),isAutoMin||toggleEditingMin(!1)},onAutoMaxToggle:function onAutoMaxToggle(){var newMax=isAutoMax?dataDomain[1]:null;onCustomDomainChange([customDomain[0],newMax]),isAutoMax||toggleEditingMax(!1)},isEditingMin:isEditingMin,isEditingMax:isEditingMax,onEditMin:toggleEditingMin,onEditMax:toggleEditingMax,onChangeMin:function onChangeMin(val){return onCustomDomainChange([val,customDomain[1]])},onChangeMax:function onChangeMax(val){return onCustomDomainChange([customDomain[0],val])},onSwap:function onSwap(){return onCustomDomainChange([customDomain[1],customDomain[0]])},children:histogram&&Object(jsx_runtime.jsx)(DomainSlider_Histogram,Object(objectSpread2.a)({dataDomain:dataDomain,sliderDomain:sliderDomain,scaleType:scaleType},histogram))})]})}__webpack_exports__.a=DomainSlider;try{DomainSlider.displayName="DomainSlider",DomainSlider.__docgenInfo={description:"",displayName:"DomainSlider",props:{dataDomain:{defaultValue:null,description:"",name:"dataDomain",required:!0,type:{name:"Domain"}},customDomain:{defaultValue:null,description:"",name:"customDomain",required:!0,type:{name:"CustomDomain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"enum",value:[{value:'"linear"'},{value:'"log"'},{value:'"symlog"'},{value:'"sqrt"'},{value:'"gamma"'}]}},onCustomDomainChange:{defaultValue:null,description:"",name:"onCustomDomainChange",required:!0,type:{name:"(domain: CustomDomain) => void"}},histogram:{defaultValue:null,description:"",name:"histogram",required:!1,type:{name:"HistogramParams"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.tsx#DomainSlider"]={docgenInfo:DomainSlider.__docgenInfo,name:"DomainSlider",path:"../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.tsx#DomainSlider"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/toolbar/controls/DomainSlider/DomainTooltip.module.css":function(module,exports,__webpack_require__){module.exports={tooltip:"DomainTooltip_tooltip__2hsmD Toolbar_popup__99hcM",tooltipInner:"DomainTooltip_tooltipInner__t88yj Toolbar_popupInner__3elGM",tooltipControls:"DomainTooltip_tooltipControls__1uVFL",dataRange:"DomainTooltip_dataRange__1rEo_",autoscale:"DomainTooltip_autoscale__1lmKQ",actionBtn:"DomainTooltip_actionBtn__1q7it btnClean",error:"DomainTooltip_error__7cp9d",errorMessage:"DomainTooltip_errorMessage__1WokJ",swapBtn:"DomainTooltip_swapBtn__2ztRM DomainTooltip_actionBtn__1q7it btnClean"}},"../../packages/lib/src/toolbar/controls/DomainSlider/Histogram.module.css":function(module,exports,__webpack_require__){module.exports={container:"Histogram_container__pxGDt",histogram:"Histogram_histogram__2W1lO",bar:"Histogram_bar__2z_5b",indicators:"Histogram_indicators__3iMN7"}},"../../packages/lib/src/toolbar/controls/DomainSlider/Thumb.module.css":function(module,exports,__webpack_require__){module.exports={thumb:"Thumb_thumb__1N4a_",thumbBtnLike:"Thumb_thumbBtnLike__E9oSl",icon:"Thumb_icon__2lj84"}},"../../packages/lib/src/toolbar/controls/DomainSlider/Track.module.css":function(module,exports,__webpack_require__){module.exports={track:"Track_track__1XzDD",dataTrack:"Track_dataTrack__2geIx"}},"../../packages/lib/src/toolbar/controls/ToggleBtn.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread2=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Toolbar_module=__webpack_require__("../../packages/lib/src/toolbar/Toolbar.module.css"),Toolbar_module_default=__webpack_require__.n(Toolbar_module),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_excluded=["label","icon","iconOnly","small","raised","disabled","onClick"];function Btn(props){var label=props.label,Icon=props.icon,iconOnly=props.iconOnly,small=props.small,raised=props.raised,disabled=props.disabled,_onClick=props.onClick,ariaAttrs=Object(objectWithoutProperties.a)(props,_excluded);return Object(jsx_runtime.jsx)("button",Object(objectSpread2.a)(Object(objectSpread2.a)({className:Toolbar_module_default.a.btn,type:"button",title:iconOnly?label:void 0,"aria-label":iconOnly?label:void 0,disabled:disabled,"data-small":small||void 0,"data-raised":raised||void 0,onClick:function onClick(){return _onClick()}},ariaAttrs),{},{children:Object(jsx_runtime.jsxs)("span",{className:Toolbar_module_default.a.btnLike,children:[Icon&&Object(jsx_runtime.jsx)(Icon,{className:Toolbar_module_default.a.icon}),!iconOnly&&Object(jsx_runtime.jsx)("span",{className:Toolbar_module_default.a.label,children:label})]})}))}var controls_Btn=Btn;try{Btn.displayName="Btn",Btn.__docgenInfo={description:"",displayName:"Btn",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<SVGAttributes<SVGElement>>"}},iconOnly:{defaultValue:null,description:"",name:"iconOnly",required:!1,type:{name:"boolean"}},small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},raised:{defaultValue:null,description:"",name:"raised",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/Btn.tsx#Btn"]={docgenInfo:Btn.__docgenInfo,name:"Btn",path:"../../packages/lib/src/toolbar/controls/Btn.tsx#Btn"})}catch(__react_docgen_typescript_loader_error){}var ToggleBtn_excluded=["value","onToggle"];function ToggleBtn(props){var value=props.value,onToggle=props.onToggle,btnProps=Object(objectWithoutProperties.a)(props,ToggleBtn_excluded);return Object(jsx_runtime.jsx)(controls_Btn,Object(objectSpread2.a)(Object(objectSpread2.a)({},btnProps),{},{"aria-pressed":value,onClick:function onClick(){return onToggle()}}))}__webpack_exports__.a=ToggleBtn;try{ToggleBtn.displayName="ToggleBtn",ToggleBtn.__docgenInfo={description:"",displayName:"ToggleBtn",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},onToggle:{defaultValue:null,description:"",name:"onToggle",required:!0,type:{name:"() => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},small:{defaultValue:null,description:"",name:"small",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ComponentType<SVGAttributes<SVGElement>>"}},iconOnly:{defaultValue:null,description:"",name:"iconOnly",required:!1,type:{name:"boolean"}},raised:{defaultValue:null,description:"",name:"raised",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/ToggleBtn.tsx#ToggleBtn"]={docgenInfo:ToggleBtn.__docgenInfo,name:"ToggleBtn",path:"../../packages/lib/src/toolbar/controls/ToggleBtn.tsx#ToggleBtn"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/vis/heatmap/hooks.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useVisDomain})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useSafeDomain})),__webpack_require__.d(__webpack_exports__,"a",(function(){return useAxisValues}));var react_use__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react-use@17.3.2_react-dom@17.0.2+react@17.0.2/node_modules/react-use/esm/factory/createMemo.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/lib/src/vis/heatmap/utils.ts"),useVisDomain=Object(react_use__WEBPACK_IMPORTED_MODULE_0__.a)(_utils__WEBPACK_IMPORTED_MODULE_1__.h),useSafeDomain=Object(react_use__WEBPACK_IMPORTED_MODULE_0__.a)(_utils__WEBPACK_IMPORTED_MODULE_1__.g),useAxisValues=Object(react_use__WEBPACK_IMPORTED_MODULE_0__.a)(_utils__WEBPACK_IMPORTED_MODULE_1__.b)},"../../packages/lib/src/vis/heatmap/interpolators.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return INTERPOLATORS}));var d3_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/d3-color@3.0.1/node_modules/d3-color/src/color.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/BrBG.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/PRGn.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/PiYG.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/PuOr.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/RdBu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/RdGy.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js"),d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("../../node_modules/.pnpm/d3-scale-chromatic@3.0.0/node_modules/d3-scale-chromatic/src/diverging/Spectral.js");var INTERPOLATORS={Blues:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_1__.a,Greens:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_2__.a,Greys:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__.a,Oranges:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_4__.a,Purples:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_5__.a,Reds:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_6__.a,Turbo:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_7__.a,Viridis:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_8__.a,Inferno:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_8__.b,Magma:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_8__.c,Plasma:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_8__.d,Cividis:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_9__.a,Warm:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_10__.c,Cool:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_10__.a,BuGn:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_11__.a,BuPu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_12__.a,GnBu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_13__.a,OrRd:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_14__.a,PuBuGn:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_15__.a,PuBu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_16__.a,PuRd:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_17__.a,RdPu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_18__.a,YlGnBu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_19__.a,YlGn:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_20__.a,YlOrBr:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_21__.a,YlOrRd:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_22__.a,Rainbow:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_10__.b,Sinebow:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_23__.a,HSL:function interpolateHsl(t){return Object(d3_color__WEBPACK_IMPORTED_MODULE_0__.e)(360*t,1,.5).formatRgb()},BrBG:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_24__.a,PRGn:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_25__.a,PiYG:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_26__.a,PuOr:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_27__.a,RdBu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_28__.a,RdGy:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_29__.a,RdYlBu:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_30__.a,RdYlGn:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_31__.a,Spectral:d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_32__.a}},"../../packages/lib/src/vis/heatmap/utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GRADIENT_RANGE})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getVisDomain})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getSafeDomain})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getDims})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getLinearGradient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getAxisValues})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getInterpolator})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getDataTexture}));var _home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),three__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/three@0.135.0/node_modules/three/build/three.module.js"),_models__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/lib/src/vis/models.ts"),_scales__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/lib/src/vis/scales.ts"),_interpolators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/lib/src/vis/heatmap/interpolators.ts"),GRADIENT_RANGE=Object(lodash__WEBPACK_IMPORTED_MODULE_2__.range)(0,1.05,.05),TEXTURE_TYPE_BY_DTYPE={int8:three__WEBPACK_IMPORTED_MODULE_3__.ByteType,int16:three__WEBPACK_IMPORTED_MODULE_3__.ShortType,int32:three__WEBPACK_IMPORTED_MODULE_3__.IntType,uint8:three__WEBPACK_IMPORTED_MODULE_3__.UnsignedByteType,uint16:three__WEBPACK_IMPORTED_MODULE_3__.UnsignedShortType,uint32:three__WEBPACK_IMPORTED_MODULE_3__.UnsignedIntType,float32:three__WEBPACK_IMPORTED_MODULE_3__.FloatType},UNSUPPORTED_TEXTURE_TYPES=new Set([three__WEBPACK_IMPORTED_MODULE_3__.UnsignedShort4444Type,three__WEBPACK_IMPORTED_MODULE_3__.UnsignedShort5551Type,three__WEBPACK_IMPORTED_MODULE_3__.UnsignedInt248Type]);function getVisDomain(customDomain,dataDomain){var _customDomain$,_customDomain$2;return[null!==(_customDomain$=customDomain[0])&&void 0!==_customDomain$?_customDomain$:dataDomain[0],null!==(_customDomain$2=customDomain[1])&&void 0!==_customDomain$2?_customDomain$2:dataDomain[1]]}function getSafeDomain(domain,fallbackDomain,scaleType){if(domain[0]>domain[1])return[fallbackDomain,{minGreater:!0}];var h5webScale=_scales__WEBPACK_IMPORTED_MODULE_5__.a[scaleType],_domain=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(domain,2),min=_domain[0],max=_domain[1],validMin=h5webScale.validMin,isMinSupported=min>=validMin,isMaxSupported=max>=validMin,safeMin=isMinSupported?min:fallbackDomain[0],safeMax=isMaxSupported?max:fallbackDomain[1],safeMinGreater=safeMin>safeMax;return[[safeMinGreater?safeMax:safeMin,safeMax],{minError:safeMinGreater?_models__WEBPACK_IMPORTED_MODULE_4__.a.CustomMaxFallback:isMinSupported?void 0:_models__WEBPACK_IMPORTED_MODULE_4__.a.InvalidMinWithScale,maxError:isMaxSupported?void 0:_models__WEBPACK_IMPORTED_MODULE_4__.a.InvalidMaxWithScale}]}function getDims(dataArray){var _dataArray$shape=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(dataArray.shape,2);return{rows:_dataArray$shape[0],cols:_dataArray$shape[1]}}function getColorStops(interpolator,minMaxOnly){if(minMaxOnly){var min=interpolator(0),max=interpolator(1);return"".concat(min,", ").concat(min," 50%, ").concat(max," 50%, ").concat(max)}return GRADIENT_RANGE.map(interpolator).join(", ")}function getLinearGradient(interpolator,direction){var minMaxOnly=arguments.length>2&&void 0!==arguments[2]&&arguments[2],colorStops=getColorStops(interpolator,minMaxOnly);return"linear-gradient(to ".concat(direction,", ").concat(colorStops,")")}function getAxisValues(rawValues,pixelCount){if(!rawValues)return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.range)(pixelCount+1);if(rawValues.length===pixelCount+1)return rawValues;if(rawValues.length===pixelCount){var deltaCoord=rawValues[1]-rawValues[0];return[].concat(Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(rawValues),[rawValues[rawValues.length-1]+deltaCoord])}throw new Error("Expected array to have length ".concat(pixelCount," or ").concat(pixelCount+1,", not ").concat(rawValues.length))}function getInterpolator(colorMap,reverse){var interpolator=_interpolators__WEBPACK_IMPORTED_MODULE_6__.a[colorMap];return reverse?function(t){return interpolator(1-t)}:interpolator}function getTextureFormatFromType(type){if(type===three__WEBPACK_IMPORTED_MODULE_3__.FloatType||type===three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType)return three__WEBPACK_IMPORTED_MODULE_3__.RedFormat;if(UNSUPPORTED_TEXTURE_TYPES.has(type))throw new Error("Texture type not supported");return three__WEBPACK_IMPORTED_MODULE_3__.RedIntegerFormat}function getDataTexture(values){var textureType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TEXTURE_TYPE_BY_DTYPE[values.dtype],magFilter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:three__WEBPACK_IMPORTED_MODULE_3__.NearestFilter,data=values.data,shape=values.shape,_shape=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(shape,2),rows=_shape[0],cols=_shape[1],format=getTextureFormatFromType(textureType);return new three__WEBPACK_IMPORTED_MODULE_3__.DataTexture(data,cols,rows,format,textureType,three__WEBPACK_IMPORTED_MODULE_3__.UVMapping,three__WEBPACK_IMPORTED_MODULE_3__.ClampToEdgeWrapping,three__WEBPACK_IMPORTED_MODULE_3__.ClampToEdgeWrapping,magFilter)}},"../../packages/lib/src/vis/hooks.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useAxisDomain})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useDomain})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useFrameRendering})),__webpack_require__.d(__webpack_exports__,"h",(function(){return useWheelCapture})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useCombinedDomain})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useValueToIndexScale})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useCSSCustomProperties})),__webpack_require__.d(__webpack_exports__,"g",(function(){return useVisibleDomains}));var _home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_h5web_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/shared/src/utils.ts"),_h5web_shared__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/shared/src/models-vis.ts"),_react_hookz_web__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@react-hookz+web@12.1.2_react-dom@17.0.2+react@17.0.2/node_modules/@react-hookz/web/esm/useEventListener/useEventListener.js"),_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/@react-three+fiber@7.0.24_03d4586416b86b800151bd7390b3d95a/node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),react_use__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react-use@17.3.2_react-dom@17.0.2+react@17.0.2/node_modules/react-use/esm/factory/createMemo.js"),_shared_AxisSystemContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/lib/src/vis/shared/AxisSystemContext.tsx"),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/lib/src/vis/utils.ts"),useBounds=Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(_h5web_shared__WEBPACK_IMPORTED_MODULE_1__.i),useValidDomainForScale=Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(_h5web_shared__WEBPACK_IMPORTED_MODULE_1__.k),useAxisDomain=Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(_utils__WEBPACK_IMPORTED_MODULE_8__.i);function useDomain(valuesArray){var scaleType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_h5web_shared__WEBPACK_IMPORTED_MODULE_2__.a.Linear,errorArray=arguments.length>2?arguments[2]:void 0,bounds=useBounds(valuesArray,errorArray);return useValidDomainForScale(bounds,scaleType)}function useFrameRendering(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(0),setNum=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2)[1];Object(_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.d)((function(){setNum(Math.random())}))}function onWheel(evt){evt.preventDefault()}function useWheelCapture(){var domElement=Object(_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.e)((function(state){return state.gl})).domElement;Object(_react_hookz_web__WEBPACK_IMPORTED_MODULE_3__.a)(domElement,"wheel",onWheel,{passive:!1})}var useCombinedDomain=Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(_utils__WEBPACK_IMPORTED_MODULE_8__.l),useValueToIndexScale=Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(_utils__WEBPACK_IMPORTED_MODULE_8__.r);function useCSSCustomProperties(){for(var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_5__.useState)(),_useState4=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),styles=_useState4[0],setStyles=_useState4[1],refCallback=Object(react__WEBPACK_IMPORTED_MODULE_5__.useCallback)((function(elem){return setStyles(elem?window.getComputedStyle(elem):void 0)}),[setStyles]),_len=arguments.length,names=new Array(_len),_key=0;_key<_len;_key++)names[_key]=arguments[_key];return{colors:names.map((function(name){return styles?styles.getPropertyValue(name).trim():"transparent"})),refCallback:refCallback}}function useVisibleDomains(){var worldToData=Object(_shared_AxisSystemContext__WEBPACK_IMPORTED_MODULE_7__.b)().worldToData,camera=Object(_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.e)((function(state){return state.camera})),worldBottomLeft=_utils__WEBPACK_IMPORTED_MODULE_8__.a.clone().unproject(camera),worldTopRight=_utils__WEBPACK_IMPORTED_MODULE_8__.b.clone().unproject(camera),dataBottomLeft=worldToData(worldBottomLeft),dataTopRight=worldToData(worldTopRight);return{xVisibleDomain:[dataBottomLeft.x,dataTopRight.x],yVisibleDomain:[dataBottomLeft.y,dataTopRight.y]}}},"../../packages/lib/src/vis/models.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var DomainError;__webpack_require__.d(__webpack_exports__,"a",(function(){return DomainError})),function(DomainError){DomainError.MinGreater="min-greater",DomainError.InvalidMinWithScale="invalid-min-with-scale",DomainError.InvalidMaxWithScale="invalid-max-with-scale",DomainError.CustomMaxFallback="custom-max-fallback"}(DomainError||(DomainError={}))},"../../packages/lib/src/vis/scales.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return H5WEB_SCALES}));var defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),models_vis=__webpack_require__("../../packages/shared/src/models-vis.ts"),linear=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/linear.js"),log=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/log.js"),symlog=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/symlog.js"),squareRoot=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/squareRoot.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.3.1_react@17.0.2/node_modules/react-icons/md/index.esm.js"),objectSpread2=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function MdGraphicEqRotated(props){return Object(jsx_runtime.jsx)("svg",Object(objectSpread2.a)(Object(objectSpread2.a)({xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em"},props),{},{children:Object(jsx_runtime.jsx)("path",{d:"M18 17v-2H6v2zm4-4v-2H2v2zm-8 8v-2h-4v2zm4-12V7H6v2zm-8-4h4V3h-4z",stroke:"none"})}))}var ScaleSelector_MdGraphicEqRotated=MdGraphicEqRotated;try{MdGraphicEqRotated.displayName="MdGraphicEqRotated",MdGraphicEqRotated.__docgenInfo={description:"",displayName:"MdGraphicEqRotated",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/ScaleSelector/MdGraphicEqRotated.tsx#MdGraphicEqRotated"]={docgenInfo:MdGraphicEqRotated.__docgenInfo,name:"MdGraphicEqRotated",path:"../../packages/lib/src/toolbar/controls/ScaleSelector/MdGraphicEqRotated.tsx#MdGraphicEqRotated"})}catch(__react_docgen_typescript_loader_error){}function SqrtIcon(props){return Object(jsx_runtime.jsx)("svg",Object(objectSpread2.a)(Object(objectSpread2.a)({xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em"},props),{},{children:Object(jsx_runtime.jsx)("polyline",{points:"2 12 6 12 9 21 15 3 19 3"})}))}var ScaleSelector_SqrtIcon=SqrtIcon;try{SqrtIcon.displayName="SqrtIcon",SqrtIcon.__docgenInfo={description:"",displayName:"SqrtIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/toolbar/controls/ScaleSelector/SqrtIcon.tsx#SqrtIcon"]={docgenInfo:SqrtIcon.__docgenInfo,name:"SqrtIcon",path:"../../packages/lib/src/toolbar/controls/ScaleSelector/SqrtIcon.tsx#SqrtIcon"})}catch(__react_docgen_typescript_loader_error){}var _H5WEB_SCALES,slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),toConsumableArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),power=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/power.js"),number=__webpack_require__("../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js"),round=__webpack_require__("../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/round.js"),lodash=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");function normalize(a,b){var extent=b-a;return function(x){return 0!==extent?(x-a)/extent:.5}}var H5WEB_SCALES=(_H5WEB_SCALES={},Object(defineProperty.a)(_H5WEB_SCALES,models_vis.a.Linear,{createScale:function createScale(config){return Object(linear.a)(config)},Icon:index_esm.e,label:"Linear",validMin:-1/0}),Object(defineProperty.a)(_H5WEB_SCALES,models_vis.a.Log,{createScale:function createScale(config){return Object(log.a)(config)},Icon:index_esm.b,label:"Log",validMin:Number.MIN_VALUE}),Object(defineProperty.a)(_H5WEB_SCALES,models_vis.a.SymLog,{createScale:function createScale(config){return Object(symlog.a)(config)},Icon:ScaleSelector_MdGraphicEqRotated,label:"SymLog",validMin:-1/0}),Object(defineProperty.a)(_H5WEB_SCALES,models_vis.a.Sqrt,{createScale:function createScale(config){return Object(squareRoot.a)(config)},Icon:ScaleSelector_SqrtIcon,label:"Square root",validMin:0}),Object(defineProperty.a)(_H5WEB_SCALES,models_vis.a.Gamma,{createScale:function scaleGamma(config){var _config$exponent,_domain=(null==config?void 0:config.domain)||[0,1],_range=(null==config?void 0:config.range)||[0,1],_exponent=null!==(_config$exponent=null==config?void 0:config.exponent)&&void 0!==_config$exponent?_config$exponent:1,_clamp=(null==config?void 0:config.clamp)||!1,_interpolate=number.a;function clamper(x){if(!_clamp)return x;var _domain2=_domain,_domain3=Object(slicedToArray.a)(_domain2,2),d0=_domain3[0],d1=_domain3[1];return Math.max(d0,Math.min(d1,x))}function _createGammaLikeScale(){return Object(power.a)({domain:_domain,range:_range,exponent:_exponent,clamp:_clamp})}var scale=Object.assign((function scaleFn(val){var x=Object(lodash.isNumber)(val)?val:val.valueOf();if(!Number.isNaN(x))return _interpolate.apply(void 0,Object(toConsumableArray.a)(_range))(Math.pow(normalize.apply(void 0,Object(toConsumableArray.a)(_domain))(clamper(x)),_exponent))}),{domain:function domain(d){return d?(_domain=d,scale):Object(toConsumableArray.a)(_domain)},range:function range(r){return r?(_range=r,scale):Object(toConsumableArray.a)(_range)},rangeRound:function rangeRound(r){return r?(_range=r,_interpolate=round.a,scale):Object(toConsumableArray.a)(_range)},clamp:function clamp(c){return c?(_clamp=c,scale):_clamp},interpolate:function interpolate(i){return i?(_interpolate=i,scale):_interpolate},invert:function invert(val){return clamper(number.a.apply(void 0,Object(toConsumableArray.a)(_domain))(Math.pow(normalize.apply(void 0,Object(toConsumableArray.a)(_range))(val),1/_exponent)))},unknown:function unknown(){},exponent:function exponent(e){return e?(_exponent=e,scale):_exponent},nice:function nice(count){var scaleLike=_createGammaLikeScale().nice(count);return _domain=scaleLike.domain(),scale},ticks:function ticks(count){return _createGammaLikeScale().ticks(count)},tickFormat:function tickFormat(count,specifier){return _createGammaLikeScale().tickFormat(count,specifier)},copy:function copy(){return scaleGamma().domain(_domain).range(_range).exponent(_exponent).clamp(_clamp).interpolate(_interpolate)}});return scale},Icon:index_esm.c,label:"Gamma",validMin:-1/0}),_H5WEB_SCALES)},"../../packages/lib/src/vis/shared/AxisSystemContext.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AxisSystemContext})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useAxisSystemContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),AxisSystemContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});function useAxisSystemContext(){return Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AxisSystemContext)}},"../../packages/lib/src/vis/shared/Tick.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js"),_excluded=["formattedValue"];function Tick(props){var formattedValue=props.formattedValue,tickProps=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.a)(props,_excluded);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("text",Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.a)({},tickProps),{},{dy:"0.3125em",children:formattedValue}))}__webpack_exports__.a=Tick;try{Tick.displayName="Tick",Tick.__docgenInfo={description:"",displayName:"Tick",props:{className:{defaultValue:null,description:"className to apply to the SVGText element.",name:"className",required:!1,type:{name:"string"}},scaleToFit:{defaultValue:null,description:"Whether to scale the fontSize to accommodate the specified width.",name:"scaleToFit",required:!1,type:{name:'boolean | "shrink-only"'}},angle:{defaultValue:null,description:"Rotational angle of the text.",name:"angle",required:!1,type:{name:"number"}},textAnchor:{defaultValue:null,description:"Horizontal text anchor.",name:"textAnchor",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"end"'},{value:'"start"'},{value:'"middle"'}]}},verticalAnchor:{defaultValue:null,description:"Vertical text anchor.",name:"verticalAnchor",required:!1,type:{name:"enum",value:[{value:'"end"'},{value:'"start"'},{value:'"middle"'}]}},style:{defaultValue:null,description:"Styles to be applied to the text (and used in computation of its size).",name:"style",required:!1,type:{name:"CSSProperties"}},innerRef:{defaultValue:null,description:"Ref passed to the Text SVG element.",name:"innerRef",required:!1,type:{name:"Ref<SVGSVGElement>"}},innerTextRef:{defaultValue:null,description:"Ref passed to the Text text element",name:"innerTextRef",required:!1,type:{name:"Ref<SVGTextElement>"}},x:{defaultValue:null,description:"x position of the text.",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"y position of the text.",name:"y",required:!1,type:{name:"number"}},dx:{defaultValue:null,description:"dx offset of the text.",name:"dx",required:!1,type:{name:"string | number"}},dy:{defaultValue:null,description:"dy offset of the text.",name:"dy",required:!1,type:{name:"string | number"}},lineHeight:{defaultValue:null,description:'Desired "line height" of the text, implemented as y offsets.',name:"lineHeight",required:!1,type:{name:"string | number"}},capHeight:{defaultValue:null,description:"Cap height of the text.",name:"capHeight",required:!1,type:{name:"string | number"}},fontSize:{defaultValue:null,description:"Font size of text.",name:"fontSize",required:!1,type:{name:"string | number"}},fontFamily:{defaultValue:null,description:"Font family of text.",name:"fontFamily",required:!1,type:{name:"string"}},fill:{defaultValue:null,description:"Fill color of text.",name:"fill",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"Maximum width to occupy (approximate as words are not split).",name:"width",required:!1,type:{name:"number"}},children:{defaultValue:null,description:"String (or number coercible to one) to be styled and positioned.",name:"children",required:!1,type:{name:"string | number"}},formattedValue:{defaultValue:null,description:"",name:"formattedValue",required:!0,type:{name:"FormattedValue"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../../packages/lib/src/vis/shared/Tick.tsx#Tick"]={docgenInfo:Tick.__docgenInfo,name:"Tick",path:"../../packages/lib/src/vis/shared/Tick.tsx#Tick"})}catch(__react_docgen_typescript_loader_error){}},"../../packages/lib/src/vis/utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return DEFAULT_DOMAIN})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CAMERA_BOTTOM_LEFT})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CAMERA_TOP_RIGHT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return adaptedNumTicks})),__webpack_require__.d(__webpack_exports__,"f",(function(){return createAxisScale})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getSizeToFit})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getDomain})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getDomains})),__webpack_require__.d(__webpack_exports__,"e",(function(){return clampBound})),__webpack_require__.d(__webpack_exports__,"g",(function(){return extendDomain})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getValueToIndexScale})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getCanvasScale})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getIntegerTicks})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getTickFormatter})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getCombinedDomain})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getAxisOffsets})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getAxisDomain})),__webpack_require__.d(__webpack_exports__,"h",(function(){return formatNumType})),__webpack_require__.d(__webpack_exports__,"t",(function(){return projectCameraToHtml})),__webpack_require__.d(__webpack_exports__,"s",(function(){return noModifierKeyPressed}));var _TYPE_STRINGS,_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_h5web_shared__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/shared/src/guards.ts"),_h5web_shared__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/shared/src/models-vis.ts"),_h5web_shared__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/shared/src/utils.ts"),_h5web_shared__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/shared/src/models-hdf5.ts"),_visx_scale__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/linear.js"),_visx_scale__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/@visx+scale@2.2.2/node_modules/@visx/scale/esm/scales/threshold.js"),d3_array__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/d3-array@3.1.1/node_modules/d3-array/src/range.js"),d3_array__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/.pnpm/d3-array@3.1.1/node_modules/d3-array/src/ticks.js"),three__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/three@0.135.0/node_modules/three/build/three.module.js"),three_src_math_MathUtils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/three@0.135.0/node_modules/three/src/math/MathUtils.js"),_scales__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../packages/lib/src/vis/scales.ts"),DEFAULT_DOMAIN=[.1,1],CAMERA_BOTTOM_LEFT=new three__WEBPACK_IMPORTED_MODULE_12__.Vector3(-1,-1,0),CAMERA_TOP_RIGHT=new three__WEBPACK_IMPORTED_MODULE_12__.Vector3(1,1,0),AXIS_OFFSETS_vertical=72,AXIS_OFFSETS_horizontal=40,AXIS_OFFSETS_fallback=16,adaptedNumTicks=Object(_visx_scale__WEBPACK_IMPORTED_MODULE_8__.a)({domain:[300,900],range:[3,10],clamp:!0,round:!0}),adaptedLogTicksThreshold=Object(_visx_scale__WEBPACK_IMPORTED_MODULE_8__.a)({domain:[300,500],range:[.8,1.4]});function createAxisScale(scaleType,config){if(Object(_h5web_shared__WEBPACK_IMPORTED_MODULE_4__.l)(scaleType))return _scales__WEBPACK_IMPORTED_MODULE_14__.a[scaleType].createScale(config);var exponent=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(scaleType,2)[1];return _scales__WEBPACK_IMPORTED_MODULE_14__.a[_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Gamma].createScale(Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.a)(Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.a)({},config),{},{exponent:exponent}))}function getSizeToFit(availableSize,ratioToRespect){var width=availableSize.width,height=availableSize.height;if(!ratioToRespect)return{width:width,height:height};var availableRatio=width/height;return{width:availableRatio>ratioToRespect?height*ratioToRespect:width,height:availableRatio<ratioToRespect?width/ratioToRespect:height}}function getDomain(valuesArray){var scaleType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Linear,errorArray=arguments.length>2?arguments[2]:void 0,bounds=Object(_h5web_shared__WEBPACK_IMPORTED_MODULE_6__.i)(valuesArray,errorArray);return Object(_h5web_shared__WEBPACK_IMPORTED_MODULE_6__.k)(bounds,scaleType)}function getDomains(valuesArrays){var scaleType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Linear;return valuesArrays.map((function(arr){return getDomain(arr,scaleType)}))}function clampBound(val){var supportedDomain=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[-Number.MAX_VALUE/2,Number.MAX_VALUE/2],_supportedDomain=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(supportedDomain,2),supportedMin=_supportedDomain[0],supportedMax=_supportedDomain[1];return Object(three_src_math_MathUtils__WEBPACK_IMPORTED_MODULE_13__.a)(val,supportedMin,supportedMax)}function extendDomain(domain,extendFactor){var scaleType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Linear;if(extendFactor<=0)return domain;var validMin=_scales__WEBPACK_IMPORTED_MODULE_14__.a[scaleType].validMin,_domain=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(domain,1),min=_domain[0];if(min<validMin)throw new Error("Expected domain compatible with ".concat(scaleType," scale"));var extendedDomain=unsafeExtendDomain(domain,extendFactor,scaleType);return[Math.max(validMin,extendedDomain[0]),extendedDomain[1]]}function unsafeExtendDomain(domain,extendFactor,scaleType){var _domain2=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(domain,2),min=_domain2[0];if(min===_domain2[1])return function extendEmptyDomain(value,extendFactor,scaleType){if(scaleType===_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Log)return[value*Math.pow(10,-extendFactor),value*Math.pow(10,extendFactor)];if(0===value)return[-1,1];var extension=Math.abs(value)*extendFactor;return[value-extension,value+extension]}(min,extendFactor,scaleType);var scale=createAxisScale(scaleType,{domain:domain,range:[0,1]});return[scale.invert(-extendFactor),scale.invert(1+extendFactor)]}function getValueToIndexScale(values,switchAtMidpoints){var thresholds=(switchAtMidpoints?values.map((function(_,i){return values[i-1]+(values[i]-values[i-1])/2})):values).slice(1),indices=Object(d3_array__WEBPACK_IMPORTED_MODULE_10__.a)(values.length);return Object(_visx_scale__WEBPACK_IMPORTED_MODULE_9__.a)(isDescending(thresholds)?{domain:Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(thresholds).reverse(),range:Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(indices).reverse()}:{domain:thresholds,range:indices})}function getCanvasScale(config,canvasSize){var scaleType=config.scaleType,visDomain=config.visDomain,flip=config.flip,range=[-canvasSize/2,canvasSize/2];return createAxisScale(null!=scaleType?scaleType:_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Linear,{domain:visDomain,range:flip?range.reverse():range})}function getIntegerTicks(domain,count){var min=Math.min.apply(Math,Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(domain)),max=Math.max.apply(Math,Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__.a)(domain)),intMin=Math.ceil(min),intMax=Math.floor(max),domainLength=intMax-intMin+1,optimalCount=Math.min(domainLength,count);if(0===optimalCount)return[];var step=Math.max(Object(d3_array__WEBPACK_IMPORTED_MODULE_11__.a)(intMin,intMax,optimalCount),1),start=Math.ceil(min/step),numTicks=Math.floor(max/step)-start+1;return Array.from({length:numTicks},(function(_,i){return(start+i)*step}))}function getTickFormatter(domain,availableSize,scaleType){if(scaleType!==_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Log)return _h5web_shared__WEBPACK_IMPORTED_MODULE_6__.f;var _ref=domain[0]>0?domain:[-domain[1],-[domain[0]]],_ref2=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.a)(_ref,2),min=_ref2[0],max=_ref2[1],threshold=adaptedLogTicksThreshold(availableSize);return max/min<Math.pow(10,threshold)?_h5web_shared__WEBPACK_IMPORTED_MODULE_6__.f:function(val){var loggedVal=Math.log10(Math.abs(val.valueOf()));return loggedVal===Math.floor(loggedVal)?Object(_h5web_shared__WEBPACK_IMPORTED_MODULE_6__.f)(val):""}}function getCombinedDomain(domains){var domainsToCombine=domains.filter(_h5web_shared__WEBPACK_IMPORTED_MODULE_4__.h);if(0!==domainsToCombine.length)return domainsToCombine.reduce((function(accDomain,nextDomain){return[Math.min(accDomain[0],nextDomain[0]),Math.max(accDomain[1],nextDomain[1])]}))}function getAxisOffsets(){var hasLabel=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},horizontal=AXIS_OFFSETS_horizontal,vertical=AXIS_OFFSETS_vertical,fallback=AXIS_OFFSETS_fallback;return{left:(hasLabel.left?fallback:0)+vertical,bottom:(hasLabel.bottom?fallback:0)+horizontal,right:hasLabel.right?vertical:fallback,top:hasLabel.top?horizontal:fallback}}function isDescending(array){return array[array.length-1]-array[0]<0}function getAxisDomain(axisValues){var scaleType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_h5web_shared__WEBPACK_IMPORTED_MODULE_5__.a.Linear,extensionFactor=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,rawDomain=getDomain(axisValues,scaleType);if(rawDomain){var extendedDomain=extendDomain(rawDomain,extensionFactor,scaleType);return isDescending(axisValues)?[extendedDomain[1],extendedDomain[0]]:extendedDomain}}var TYPE_STRINGS=(_TYPE_STRINGS={},Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.a)(_TYPE_STRINGS,_h5web_shared__WEBPACK_IMPORTED_MODULE_7__.a.Integer,"int"),Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.a)(_TYPE_STRINGS,_h5web_shared__WEBPACK_IMPORTED_MODULE_7__.a.Unsigned,"uint"),Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.a)(_TYPE_STRINGS,_h5web_shared__WEBPACK_IMPORTED_MODULE_7__.a.Float,"float"),_TYPE_STRINGS);function formatNumType(numType){return"".concat(TYPE_STRINGS[numType.class]).concat(numType.size)}function projectCameraToHtml(cameraVector,width,height){var cameraToHtmlMatrix=(new three__WEBPACK_IMPORTED_MODULE_12__.Matrix4).makeScale(width/2,-height/2,1);return cameraToHtmlMatrix.setPosition(width/2,height/2),cameraVector.clone().applyMatrix4(cameraToHtmlMatrix)}function noModifierKeyPressed(event){return!event.altKey&&!event.ctrlKey&&!event.shiftKey}},"../../packages/shared/src/guards.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return assertAbsolutePath})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isReactElement})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isDefined})),__webpack_require__.d(__webpack_exports__,"f",(function(){return assertDefined})),__webpack_require__.d(__webpack_exports__,"b",(function(){return assertArray})),__webpack_require__.d(__webpack_exports__,"i",(function(){return isGroup})),__webpack_require__.d(__webpack_exports__,"g",(function(){return hasChildren})),__webpack_require__.d(__webpack_exports__,"e",(function(){return assertDataset})),__webpack_require__.d(__webpack_exports__,"c",(function(){return assertArrayShape})),__webpack_require__.d(__webpack_exports__,"d",(function(){return assertDataLength})),__webpack_require__.d(__webpack_exports__,"l",(function(){return isScaleType})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isNdArray})),__webpack_require__.d(__webpack_exports__,"m",(function(){return isTypedNdArray}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),_models_hdf5__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/shared/src/models-hdf5.ts"),_models_vis__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/shared/src/models-vis.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/shared/src/utils.ts");new Set([_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.Unsigned,_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.Integer,_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.Float,_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.String,_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.Bool,_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.a.Complex]);function assertAbsolutePath(path){if(!function isAbsolutePath(path){return path.startsWith("/")}(path))throw new Error("Expected path to start with '/'")}function isReactElement(child){return"string"!=typeof child&&"number"!=typeof child}function isDefined(val){return void 0!==val}function assertDefined(val){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Expected some value";if(!isDefined(val))throw new TypeError(message)}function assertArray(val){if(!Array.isArray(val))throw new TypeError("Expected array")}function isGroup(entity){return entity.kind===_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.c.Group}function hasChildren(group){return"children"in group}function isDataset(entity){return entity.kind===_models_hdf5__WEBPACK_IMPORTED_MODULE_1__.c.Dataset}function assertDataset(entity){var message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Expected dataset";if(!isDataset(entity))throw new Error(message)}function hasArrayShape(dataset){return null!==dataset.shape&&dataset.shape.length>0}function assertArrayShape(dataset){if(!hasArrayShape(dataset))throw new Error("Expected dataset to have array shape")}function assertDataLength(arr,dataArray,arrName){if(arr){var arrLength=Object(_utils__WEBPACK_IMPORTED_MODULE_3__.l)(arr).length,dataLength=Object(_utils__WEBPACK_IMPORTED_MODULE_3__.l)(dataArray).length;if(arrLength!==dataLength)throw new Error("Expected ".concat(arrName," array (").concat(arrLength,") to have same length as data array (").concat(dataLength,")"))}}function isScaleType(val){return"string"==typeof val&&Object.values(_models_vis__WEBPACK_IMPORTED_MODULE_2__.a).includes(val)}function isNdArray(arr){return"data"in arr}function isTypedNdArray(arr){return Object(lodash__WEBPACK_IMPORTED_MODULE_0__.isTypedArray)(arr.data)}},"../../packages/shared/src/models-hdf5.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var EntityKind,DTypeClass,Endianness;__webpack_require__.d(__webpack_exports__,"c",(function(){return EntityKind})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DTypeClass})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Endianness})),function(EntityKind){EntityKind.Group="group",EntityKind.Dataset="dataset",EntityKind.Datatype="datatype",EntityKind.Unresolved="unresolved"}(EntityKind||(EntityKind={})),function(DTypeClass){DTypeClass.Bool="Boolean",DTypeClass.Integer="Integer",DTypeClass.Unsigned="Integer (unsigned)",DTypeClass.Float="Float",DTypeClass.Complex="Complex",DTypeClass.String="String",DTypeClass.Compound="Compound",DTypeClass.Array="Array",DTypeClass.VLen="Array (variable length)",DTypeClass.Enum="Enumeration",DTypeClass.Unknown="Unknown"}(DTypeClass||(DTypeClass={})),function(Endianness){Endianness.LE="little-endian",Endianness.BE="big-endian"}(Endianness||(Endianness={}))},"../../packages/shared/src/models-vis.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var ScaleType;__webpack_require__.d(__webpack_exports__,"a",(function(){return ScaleType})),function(ScaleType){ScaleType.Linear="linear",ScaleType.Log="log",ScaleType.SymLog="symlog",ScaleType.Sqrt="sqrt",ScaleType.Gamma="gamma"}(ScaleType||(ScaleType={}))},"../../packages/shared/src/utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return formatTick})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatBound})),__webpack_require__.d(__webpack_exports__,"c",(function(){return formatBoundInput})),__webpack_require__.d(__webpack_exports__,"h",(function(){return formatTooltipVal})),__webpack_require__.d(__webpack_exports__,"g",(function(){return formatTooltipErr})),__webpack_require__.d(__webpack_exports__,"e",(function(){return formatMatrixValue})),__webpack_require__.d(__webpack_exports__,"d",(function(){return formatMatrixComplex})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getValues})),__webpack_require__.d(__webpack_exports__,"m",(function(){return toTypedNdArray})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getChildEntity})),__webpack_require__.d(__webpack_exports__,"a",(function(){return buildEntityPath})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getBounds})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getValidDomainForScale}));var _home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),d3_format__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/d3-format@3.1.0/node_modules/d3-format/src/defaultLocale.js"),ndarray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"),ndarray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(ndarray__WEBPACK_IMPORTED_MODULE_2__),_guards__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("../../node_modules/.pnpm/ndarray-ops@1.2.2/node_modules/ndarray-ops/ndarray-ops.js"),__webpack_require__("../../packages/shared/src/guards.ts")),_models_vis__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/shared/src/models-vis.ts"),formatTick=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".5~g"),formatBound=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".3~e"),formatBoundInput=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".5~e"),formatTooltipVal=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".5~g"),formatTooltipErr=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".3~g"),formatMatrixValue=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(".3e"),formatMatrixComplex=createComplexFormatter(".2e",!0);createComplexFormatter(".12~g");function createComplexFormatter(specifier){var full=arguments.length>1&&void 0!==arguments[1]&&arguments[1],formatVal=Object(d3_format__WEBPACK_IMPORTED_MODULE_1__.a)(specifier);return function(value){var _value=Object(_home_runner_work_h5web_h5web_node_modules_pnpm_babel_runtime_7_16_7_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(value,2),real=_value[0],imag=_value[1];if(0===imag&&!full)return"".concat(formatVal(real));if(0===real&&!full)return"".concat(formatVal(imag)," i");var sign=Math.sign(imag)>=0?" + ":" − ";return"".concat(formatVal(real)).concat(sign).concat(formatVal(Math.abs(imag))," i")}}function getValues(arr){return Object(_guards__WEBPACK_IMPORTED_MODULE_4__.j)(arr)?arr.data:arr}function toTypedNdArray(arr){return Object(_guards__WEBPACK_IMPORTED_MODULE_4__.m)(arr)?arr:ndarray__WEBPACK_IMPORTED_MODULE_2___default()(Float32Array.from(arr.data),arr.shape)}function getChildEntity(group,entityName){return group.children.find((function(child){return child.name===entityName}))}function buildEntityPath(parentPath,entityNameOrRelativePath){return"".concat("/"===parentPath?"":parentPath,"/").concat(entityNameOrRelativePath)}function getNewBounds(oldBounds,value){var oldMin=oldBounds.min,oldMax=oldBounds.max,oldPositiveMin=oldBounds.positiveMin,oldStrictPositiveMin=oldBounds.strictPositiveMin;return{min:Math.min(value,oldMin),max:Math.max(value,oldMax),positiveMin:value>=0?Math.min(value,oldPositiveMin):oldPositiveMin,strictPositiveMin:value>0?Math.min(value,oldStrictPositiveMin):oldStrictPositiveMin}}function getBounds(valuesArray,errorArray){Object(_guards__WEBPACK_IMPORTED_MODULE_4__.d)(errorArray,valuesArray,"error");var values=getValues(valuesArray),errors=errorArray&&getValues(errorArray),bounds=values.reduce((function(acc,val,i){if(!Number.isFinite(val))return acc;var newBounds=getNewBounds(acc,val),err=null==errors?void 0:errors[i];return err?getNewBounds(getNewBounds(newBounds,val-err),val+err):newBounds}),{min:1/0,max:-1/0,positiveMin:1/0,strictPositiveMin:1/0});return Number.isFinite(bounds.min)?bounds:void 0}function getValidDomainForScale(bounds,scaleType){if(void 0!==bounds){var min=bounds.min,max=bounds.max,positiveMin=bounds.positiveMin,strictPositiveMin=bounds.strictPositiveMin;return scaleType===_models_vis__WEBPACK_IMPORTED_MODULE_5__.a.Log&&min*max<=0?Number.isFinite(strictPositiveMin)?[strictPositiveMin,max]:void 0:scaleType===_models_vis__WEBPACK_IMPORTED_MODULE_5__.a.Sqrt&&min*max<0?[positiveMin,max]:[min,max]}}},"./src/DomainSlider.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"WithError",(function(){return WithError})),__webpack_require__.d(__webpack_exports__,"Histogram",(function(){return Histogram})),__webpack_require__.d(__webpack_exports__,"HistogramBiggerThanDataDomain",(function(){return HistogramBiggerThanDataDomain})),__webpack_require__.d(__webpack_exports__,"HistogramWithColorMap",(function(){return HistogramWithColorMap}));var objectSpread2=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.16.7/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),DomainSlider=__webpack_require__("../../packages/lib/src/toolbar/controls/DomainSlider/DomainSlider.tsx"),models_vis=__webpack_require__("../../packages/shared/src/models-vis.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");function Center(MyStory){return Object(jsx_runtime.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(jsx_runtime.jsx)(MyStory,{})})}var decorators_Center=Center;try{Center.displayName="Center",Center.__docgenInfo={description:"",displayName:"Center",props:{decorators:{defaultValue:null,description:"",name:"decorators",required:!1,type:{name:"DecoratorFunction<ReactFramework, Args>[]"}},parameters:{defaultValue:null,description:"",name:"parameters",required:!1,type:{name:"Parameters"}},args:{defaultValue:null,description:"",name:"args",required:!1,type:{name:"Partial<Args>"}},argTypes:{defaultValue:null,description:"",name:"argTypes",required:!1,type:{name:"Partial<ArgTypes<Args>>"}},loaders:{defaultValue:null,description:"",name:"loaders",required:!1,type:{name:"LoaderFunction<ReactFramework, Args>[]"}},render:{defaultValue:null,description:"",name:"render",required:!1,type:{name:"ArgsStoryFn<ReactFramework, Args>"}},play:{defaultValue:null,description:"",name:"play",required:!1,type:{name:"PlayFunction<ReactFramework, Args>"}},storyName:{defaultValue:null,description:"",name:"storyName",required:!1,type:{name:"string"}},story:{defaultValue:null,description:"",name:"story",required:!1,type:{name:'Omit<StoryAnnotations<ReactFramework, Args>, "story">'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/Center.tsx#Center"]={docgenInfo:Center.__docgenInfo,name:"Center",path:"src/decorators/Center.tsx#Center"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["customDomain"],DomainSlider_stories_Template=function Template(args){var _args$customDomain=args.customDomain,initialDomain=void 0===_args$customDomain?[null,null]:_args$customDomain,otherArgs=Object(objectWithoutProperties.a)(args,_excluded),_useState=Object(react.useState)(initialDomain),_useState2=Object(slicedToArray.a)(_useState,2),domain=_useState2[0],setDomain=_useState2[1];return Object(jsx_runtime.jsx)(DomainSlider.a,Object(objectSpread2.a)({customDomain:domain,onCustomDomainChange:setDomain},otherArgs))},Default=DomainSlider_stories_Template.bind({});Default.args={dataDomain:[4,400],scaleType:models_vis.a.Linear};var WithError=DomainSlider_stories_Template.bind({});WithError.args={dataDomain:[4,400],customDomain:[20,10],scaleType:models_vis.a.Linear};var Histogram=DomainSlider_stories_Template.bind({});Histogram.args=Object(objectSpread2.a)(Object(objectSpread2.a)({},Default.args),{},{histogram:{values:[130,92,76,68,60,52,50,26],bins:[4,53.5,103,152.5,202,251.5,301,350.5,400]}});var HistogramBiggerThanDataDomain=DomainSlider_stories_Template.bind({});HistogramBiggerThanDataDomain.args=Object(objectSpread2.a)(Object(objectSpread2.a)({},Default.args),{},{dataDomain:[100,300],histogram:{values:[130,92,76,68,60,52,50,26],bins:[4,53.5,103,152.5,202,251.5,301,350.5,400]}});var HistogramWithColorMap=DomainSlider_stories_Template.bind({});HistogramWithColorMap.args=Object(objectSpread2.a)(Object(objectSpread2.a)({},Default.args),{},{histogram:{values:[130,92,76,68,60,52,50,26],bins:[4,53.5,103,152.5,202,251.5,301,350.5,400],colorMap:"Blues",invertColorMap:!0}});__webpack_exports__.default={title:"Toolbar/DomainSlider",component:DomainSlider.a,decorators:[decorators_Center],parameters:{controls:{exclude:["customDomain","onCustomDomainChange"]}},argTypes:{scaleType:{control:{type:"inline-radio"},options:[models_vis.a.Linear,models_vis.a.SymLog,models_vis.a.Log,models_vis.a.Sqrt]}}};Default.parameters=Object(objectSpread2.a)({storySource:{source:"(\n  args\n) => {\n  const { customDomain: initialDomain = [null, null], ...otherArgs } = args;\n  const [domain, setDomain] = useState<CustomDomain>(initialDomain);\n\n  return (\n    <DomainSlider\n      customDomain={domain}\n      onCustomDomainChange={setDomain}\n      {...otherArgs}\n    />\n  );\n}"}},Default.parameters),WithError.parameters=Object(objectSpread2.a)({storySource:{source:"(\n  args\n) => {\n  const { customDomain: initialDomain = [null, null], ...otherArgs } = args;\n  const [domain, setDomain] = useState<CustomDomain>(initialDomain);\n\n  return (\n    <DomainSlider\n      customDomain={domain}\n      onCustomDomainChange={setDomain}\n      {...otherArgs}\n    />\n  );\n}"}},WithError.parameters),Histogram.parameters=Object(objectSpread2.a)({storySource:{source:"(\n  args\n) => {\n  const { customDomain: initialDomain = [null, null], ...otherArgs } = args;\n  const [domain, setDomain] = useState<CustomDomain>(initialDomain);\n\n  return (\n    <DomainSlider\n      customDomain={domain}\n      onCustomDomainChange={setDomain}\n      {...otherArgs}\n    />\n  );\n}"}},Histogram.parameters),HistogramBiggerThanDataDomain.parameters=Object(objectSpread2.a)({storySource:{source:"(\n  args\n) => {\n  const { customDomain: initialDomain = [null, null], ...otherArgs } = args;\n  const [domain, setDomain] = useState<CustomDomain>(initialDomain);\n\n  return (\n    <DomainSlider\n      customDomain={domain}\n      onCustomDomainChange={setDomain}\n      {...otherArgs}\n    />\n  );\n}"}},HistogramBiggerThanDataDomain.parameters),HistogramWithColorMap.parameters=Object(objectSpread2.a)({storySource:{source:"(\n  args\n) => {\n  const { customDomain: initialDomain = [null, null], ...otherArgs } = args;\n  const [domain, setDomain] = useState<CustomDomain>(initialDomain);\n\n  return (\n    <DomainSlider\n      customDomain={domain}\n      onCustomDomainChange={setDomain}\n      {...otherArgs}\n    />\n  );\n}"}},HistogramWithColorMap.parameters)}}]);