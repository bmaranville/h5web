(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(module,__webpack_exports__,__webpack_require__){"use strict";var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function FillHeight(MyStory){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{display:"grid",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyStory,{})})}__webpack_exports__.a=FillHeight;try{FillHeight.displayName="FillHeight",FillHeight.__docgenInfo={description:"",displayName:"FillHeight",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/decorators/FillHeight.tsx#FillHeight"]={docgenInfo:FillHeight.__docgenInfo,name:"FillHeight",path:"src/stories/decorators/FillHeight.tsx#FillHeight"})}catch(__react_docgen_typescript_loader_error){}},131:function(module,exports,__webpack_require__){module.exports={axisSystem:"AxisSystem_axisSystem__19hPO",axis:"AxisSystem_axis__3WzmG",grid:"AxisSystem_grid__ohRGd",tick:"AxisSystem_tick__2cDlf",label:"AxisSystem_label__3v_gK",title:"AxisSystem_title__fMEdr"}},1343:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(70),_clientLogger=__webpack_require__(44),_configFilename=__webpack_require__(1344);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1344:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(1345),__webpack_require__(1346);const parameters={actions:{argTypesRegex:"^on[A-Z].*"},options:{storySort:{order:["Home","Visualizations"]}}}},1346:function(module,exports,__webpack_require__){},1347:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(458).configure)([__webpack_require__(1348),__webpack_require__(1350)],module,!1)}).call(this,__webpack_require__(122)(module))},1348:function(module,exports,__webpack_require__){var map={"./stories/Home.stories.mdx":1349};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1348},1349:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(266);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Home",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"h5web-component-library"},"H5Web Component Library"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/silx-kit/h5web",target:"_blank",rel:"nofollow noopener noreferrer"}),"H5Web")," is a web-based viewer to explore HDF5 files. It is built with React and uses\n",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/react-spring/react-three-fiber",target:"_blank",rel:"nofollow noopener noreferrer"}),"react-three-fiber")," for visualizations."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"This library provides data visualization components and utilities from H5Web for use in other front-end web applications."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"The components are organised in two categories:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"ðŸŽ¨ ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},"Visualizations"),": the top-level visualization components â€” i.e. the components you will most likely need."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"ðŸ§± ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},"Building Blocks"),": the low-level components used by the visualization components â€” for advanced uses only.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"getting-started"},"Getting started"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ol",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Make you sure you have ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"react")," and ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"react-dom")," v16 or greater installed.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Install the library:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-bash"}),"npm install @h5web/lib\n"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Import and use a visualization component:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import { ScalarVis } from '@h5web/lib';\n\n// ...\n\n<ScalarVis value={1024} />;\n"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Other visualization components expect to receive an ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"ndarray")," and a domain as props."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ol",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Install ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"ndarray")," and its corresponding types package (if you use TypeScript):"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-bash"}),"npm install ndarray\nnpm install --save-dev @types/ndarray\n"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Pass an ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"ndarray")," and domain to the visualization:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import ndarray from 'ndarray';\nimport { HeatmapVis, getDomain } from '@h5web/lib';\n\n// Source 2D array\nconst values = [\n  [0, 1, 2],\n  [3, 4, 5],\n];\n\n// Flatten array\nconst flatValues: number[] = values.flat(Infinity);\n\n// Convert to ndarray and get domain\nconst dataArray = ndarray<number>(flatValues, [2, 3]);\nconst domain = getDomain(dataArray);\n\n// ...\n\n<HeatmapVis dataArray={dataArray} domain={domain} />;\n"))))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ol"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",{parentName:"li"},"Configure the visualization:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-tsx"}),"import { HeatmapVis, getDomain, ScaleType } from '@h5web/lib';\n\n// ...\n\n<HeatmapVis\n  dataArray={dataArray}\n  domain={domain}\n  colorMap=\"Inferno\"\n  scaleType={ScaleType.Log}\n  ...\n/>;\n")))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"mock-data"},"Mock data"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"The library exposes a utility function to retrieve a mock entity's metadata and a mock dataset's value as ndarray for testing purposes.\nYou can browse through the available mock data at ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://h5web.panosc.eu/mock",target:"_blank",rel:"nofollow noopener noreferrer"}),"https://h5web.panosc.eu/mock"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-ts"}),"import { findMockEntity, getMockDataArray } from '@h5web/lib';\n\nconst entity = findMockEntity('/nD_datasets/twoD');\nconst dataArray = getMockDataArray('/nD_datasets/twoD');\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"utilities"},"Utilities"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"The library exposes a number of utility functions, which are documented below, as well as all the enums and types used by these utility functions.\nIf you use only the top-level visualization components, the only utilities you need are ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"getDomain")," and/or ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"p"},"useDomain"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"getDomain(values: ndarray | number[], scaleType: ScaleType = ScaleType.Linear): Domain | undefined"))," - Find the min and max values contained in a array (or ndarray) of numbers. If ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"scaleType")," is ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"ScaleType.Log")," and the domain crosses zero, clamp the min to the first positive value or return ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"undefined")," if the domain is not supported (i.e. ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"[-x, 0]"),")."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"useDomain(...args): Domain | undefined"))," - Memoised React hook wrapper of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"getDomain"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"extendDomain(bareDomain: Domain, extendFactor: number, isLog?: boolean): Domain"))," - Extend a domain by a given factor."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"computeVisSize(availableSize: Size, aspectRatio?: number): Size | undefined"))," - Compute the optimal size for a visualization to fill the available space given an optional aspect ratio."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"getDims(dataArray: DataArray): Dims"))," - Get the dimensions of a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"ndarray")," as a ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"{ rows, cols }")," object."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"strong"},"getLinearGradient(interpolator: D3Interpolator, direction: 'top' | 'bottom' | 'right' | 'left'): string"))," - Generate a CSS linear gradient for a given D3 interpolator, to be used as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("inlineCode",{parentName:"li"},"background-image"),".")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Home",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1350:function(module,exports,__webpack_require__){var map={"./stories/ColorBar.stories.tsx":1351,"./stories/HeatmapVis.stories.tsx":1402,"./stories/LineVis.stories.tsx":203,"./stories/LineVisDisplay.stories.tsx":1403,"./stories/LineVisScales.stories.tsx":1404,"./stories/ScalarVis.stories.tsx":1405,"./stories/VisCanvas.stories.tsx":1406};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1350},1351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"ColorMapStory",(function(){return ColorMapStory})),__webpack_require__.d(__webpack_exports__,"LogScale",(function(){return LogScale})),__webpack_require__.d(__webpack_exports__,"NegativeLogScale",(function(){return NegativeLogScale})),__webpack_require__.d(__webpack_exports__,"SymLogScale",(function(){return SymLogScale})),__webpack_require__.d(__webpack_exports__,"Horizontal",(function(){return Horizontal})),__webpack_require__.d(__webpack_exports__,"WithBounds",(function(){return WithBounds})),__webpack_require__.d(__webpack_exports__,"HorizontalWithBounds",(function(){return HorizontalWithBounds})),__webpack_require__.d(__webpack_exports__,"EmptyDomain",(function(){return EmptyDomain})),__webpack_require__.d(__webpack_exports__,"InvertColorMap",(function(){return InvertColorMap}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(128),_packages_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);const Template=args=>{const{domainMin:min,domainMax:max,...colorBarArgs}=args;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.a,{domain:[min,max],...colorBarArgs})},Default=Template.bind({});Default.args={domainMin:.1,domainMax:1,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Linear,colorMap:"Viridis"};const ColorMapStory=Template.bind({});ColorMapStory.storyName="Color Map",ColorMapStory.args={...Default.args,colorMap:"Blues"};const LogScale=Template.bind({});LogScale.args={...Default.args,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log};const NegativeLogScale=Template.bind({});NegativeLogScale.storyName="Log Scale with negative domain",NegativeLogScale.args={...Default.args,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log,domainMin:-10,domainMax:-1};const SymLogScale=Template.bind({});SymLogScale.args={...Default.args,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.SymLog,domainMin:-6,domainMax:6};const Horizontal=Template.bind({});Horizontal.args={...Default.args,horizontal:!0};const WithBounds=Template.bind({});WithBounds.storyName="With bounds",WithBounds.args={...Default.args,domainMin:-235.111,domainMax:98765,withBounds:!0};const HorizontalWithBounds=Template.bind({});HorizontalWithBounds.storyName="Horizontal with bounds",HorizontalWithBounds.args={...Default.args,domainMin:-235.111,domainMax:98765,horizontal:!0,withBounds:!0};const EmptyDomain=Template.bind({});EmptyDomain.storyName="Empty domain",EmptyDomain.args={...Default.args,domainMin:0,domainMax:0,withBounds:!0};const InvertColorMap=Template.bind({});InvertColorMap.args={...Default.args,invertColorMap:!0},__webpack_exports__.default={title:"Building Blocks/ColorBar",component:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.a,parameters:{layout:"fullscreen"},decorators:[_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_1__.a],argTypes:{domainMin:{control:{type:"range",min:-10,max:10,step:.1}},domainMax:{control:{type:"range",min:-10,max:10,step:.1}},domain:{control:{disable:!0}},scaleType:{control:{type:"inline-radio",options:[_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Linear,_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log,_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.SymLog]}}}},Default.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...Default.parameters},ColorMapStory.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...ColorMapStory.parameters},LogScale.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...LogScale.parameters},NegativeLogScale.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...NegativeLogScale.parameters},SymLogScale.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...SymLogScale.parameters},Horizontal.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...Horizontal.parameters},WithBounds.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...WithBounds.parameters},HorizontalWithBounds.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...HorizontalWithBounds.parameters},EmptyDomain.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...EmptyDomain.parameters},InvertColorMap.parameters={storySource:{source:"(args) => {\n  const { domainMin: min, domainMax: max, ...colorBarArgs } = args;\n  return <ColorBar domain={[min, max]} {...colorBarArgs} />;\n}"},...InvertColorMap.parameters}},1402:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Domain",(function(){return Domain})),__webpack_require__.d(__webpack_exports__,"ColorMap",(function(){return ColorMap})),__webpack_require__.d(__webpack_exports__,"LogScale",(function(){return LogScale})),__webpack_require__.d(__webpack_exports__,"SymLogScale",(function(){return SymLogScale})),__webpack_require__.d(__webpack_exports__,"IgnoreAspectRatio",(function(){return IgnoreAspectRatio})),__webpack_require__.d(__webpack_exports__,"NoGrid",(function(){return NoGrid})),__webpack_require__.d(__webpack_exports__,"LiveData",(function(){return LiveData})),__webpack_require__.d(__webpack_exports__,"CustomEdges",(function(){return CustomEdges})),__webpack_require__.d(__webpack_exports__,"CustomEdgesWithExtension",(function(){return CustomEdgesWithExtension})),__webpack_require__.d(__webpack_exports__,"WithAxesLabels",(function(){return WithAxesLabels})),__webpack_require__.d(__webpack_exports__,"WithTitle",(function(){return WithTitle})),__webpack_require__.d(__webpack_exports__,"InvertColorMap",(function(){return InvertColorMap})),__webpack_require__.d(__webpack_exports__,"ScrollCaptured",(function(){return ScrollCaptured}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),ndarray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(112),ndarray__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(ndarray__WEBPACK_IMPORTED_MODULE_2__),react_use__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1412),_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(128),_packages_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);const dataArray=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.j)("/nD_datasets/twoD"),domain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.i)(dataArray.data),logSafeDomain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.i)(dataArray.data,_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.Log),Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.c,{...args}),Default=Template.bind({});Default.args={dataArray:dataArray,domain:domain};const Domain=Template.bind({});Domain.args={dataArray:dataArray,domain:[-400,400]};const ColorMap=Template.bind({});ColorMap.args={dataArray:dataArray,domain:domain,colorMap:"Rainbow"};const LogScale=Template.bind({});LogScale.args={dataArray:dataArray,domain:logSafeDomain,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.Log};const SymLogScale=Template.bind({});SymLogScale.args={dataArray:dataArray,domain:domain,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.SymLog};const IgnoreAspectRatio=Template.bind({});IgnoreAspectRatio.args={dataArray:dataArray,domain:domain,keepAspectRatio:!1};const NoGrid=Template.bind({});NoGrid.args={dataArray:dataArray,domain:domain,showGrid:!1};const LiveData=args=>{const[shuffledArray,setShuffledArray]=Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(args.dataArray);return Object(react_use__WEBPACK_IMPORTED_MODULE_3__.a)(()=>{const shuffledValues=shuffledArray.data.slice(0).sort(()=>.5-Math.random());setShuffledArray(ndarray__WEBPACK_IMPORTED_MODULE_2___default()(shuffledValues,dataArray.shape))},5e3),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.c,{...args,dataArray:shuffledArray})};LiveData.args={dataArray:dataArray,domain:domain};const CustomEdges=Template.bind({});CustomEdges.args={dataArray:dataArray,domain:domain,abscissaParams:{value:Array.from({length:dataArray.shape[1]+1},(_,i)=>100+10*i)},ordinateParams:{value:Array.from({length:dataArray.shape[0]+1},(_,i)=>.5*i-5)}};const CustomEdgesWithExtension=Template.bind({});CustomEdgesWithExtension.args={dataArray:dataArray,domain:domain,abscissaParams:{value:Array.from({length:dataArray.shape[1]},(_,i)=>100+10*i)},ordinateParams:{value:Array.from({length:dataArray.shape[0]},(_,i)=>.5*i-5)}};const WithAxesLabels=Template.bind({});WithAxesLabels.args={dataArray:dataArray,domain:domain,abscissaParams:{label:"Latitude"},ordinateParams:{label:"Longitude"}};const WithTitle=Template.bind({});WithTitle.args={dataArray:dataArray,domain:domain,title:"Pretty colors"};const InvertColorMap=Template.bind({});InvertColorMap.args={dataArray:dataArray,domain:domain,invertColorMap:!0};const ScrollCaptured=Template.bind({});ScrollCaptured.args={dataArray:dataArray,domain:domain},ScrollCaptured.decorators=[VisCanvasStory=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{display:"flex",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisCanvasStory,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{height:500}})]})],__webpack_exports__.default={title:"Visualizations/HeatmapVis",component:_packages_lib__WEBPACK_IMPORTED_MODULE_5__.c,parameters:{layout:"fullscreen"},decorators:[_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_4__.a],argTypes:{dataArray:{},domain:{},colorMap:{defaultValue:"Viridis",control:{type:"select",options:Object.keys(_packages_lib__WEBPACK_IMPORTED_MODULE_5__.d)}},scaleType:{defaultValue:_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.Linear,control:{type:"inline-radio",options:[_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.Linear,_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.Log,_packages_lib__WEBPACK_IMPORTED_MODULE_5__.g.SymLog]}},keepAspectRatio:{defaultValue:!0},showGrid:{defaultValue:!0}}},Default.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...Default.parameters},Domain.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...Domain.parameters},ColorMap.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...ColorMap.parameters},LogScale.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...LogScale.parameters},SymLogScale.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...SymLogScale.parameters},IgnoreAspectRatio.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...IgnoreAspectRatio.parameters},NoGrid.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...NoGrid.parameters},LiveData.parameters={storySource:{source:"(args) => {\n  const [shuffledArray, setShuffledArray] = useState(args.dataArray);\n\n  useInterval(() => {\n    const shuffledValues = shuffledArray.data\n      .slice(0)\n      .sort(() => 0.5 - Math.random());\n\n    setShuffledArray(ndarray(shuffledValues, dataArray.shape));\n  }, 5000);\n\n  return <HeatmapVis {...args} dataArray={shuffledArray} />;\n}"},...LiveData.parameters},CustomEdges.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...CustomEdges.parameters},CustomEdgesWithExtension.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...CustomEdgesWithExtension.parameters},WithAxesLabels.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...WithAxesLabels.parameters},WithTitle.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...WithTitle.parameters},InvertColorMap.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...InvertColorMap.parameters},ScrollCaptured.parameters={storySource:{source:"(args) => <HeatmapVis {...args} />"},...ScrollCaptured.parameters}},1403:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LineAndGlyphs",(function(){return LineAndGlyphs})),__webpack_require__.d(__webpack_exports__,"GlyphsOnly",(function(){return GlyphsOnly})),__webpack_require__.d(__webpack_exports__,"NoGrid",(function(){return NoGrid})),__webpack_require__.d(__webpack_exports__,"CustomAbscissas",(function(){return CustomAbscissas})),__webpack_require__.d(__webpack_exports__,"WithAxesLabels",(function(){return WithAxesLabels})),__webpack_require__.d(__webpack_exports__,"WithTitle",(function(){return WithTitle}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_LineVis_stories__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(203),_packages_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);const dataArray=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.j)("/nD_datasets/oneD_linear"),domain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.i)(dataArray.data),Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.e,{...args}),LineAndGlyphs=Template.bind({});LineAndGlyphs.args={dataArray:dataArray,domain:domain,curveType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.b.LineAndGlyphs};const GlyphsOnly=Template.bind({});GlyphsOnly.args={dataArray:dataArray,domain:domain,curveType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.b.GlyphsOnly};const NoGrid=Template.bind({});NoGrid.args={dataArray:dataArray,domain:domain,showGrid:!1};const CustomAbscissas=Template.bind({});CustomAbscissas.args={dataArray:dataArray,domain:domain,abscissaParams:{value:Array.from({length:dataArray.size},(_,i)=>.5*i-10)}};const WithAxesLabels=Template.bind({});WithAxesLabels.args={dataArray:dataArray,domain:domain,abscissaParams:{label:"Time"},ordinateLabel:"Position"};const WithTitle=Template.bind({});WithTitle.args={dataArray:dataArray,domain:domain,title:"A simple curve"},__webpack_exports__.default={..._LineVis_stories__WEBPACK_IMPORTED_MODULE_1__.default,title:"Visualizations/LineVis/Display"},LineAndGlyphs.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...LineAndGlyphs.parameters},GlyphsOnly.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...GlyphsOnly.parameters},NoGrid.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...NoGrid.parameters},CustomAbscissas.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...CustomAbscissas.parameters},WithAxesLabels.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...WithAxesLabels.parameters},WithTitle.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...WithTitle.parameters}},1404:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LogForY",(function(){return LogForY})),__webpack_require__.d(__webpack_exports__,"SymLogForY",(function(){return SymLogForY})),__webpack_require__.d(__webpack_exports__,"LogForX",(function(){return LogForX})),__webpack_require__.d(__webpack_exports__,"SymLogForX",(function(){return SymLogForX})),__webpack_require__.d(__webpack_exports__,"LogLog",(function(){return LogLog}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_LineVis_stories__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(203),_packages_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);const dataArray=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.j)("/nD_datasets/oneD_linear"),domain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.i)(dataArray.data),logSafeDomain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.i)(dataArray.data,_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log),dataArrayForXLog=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.j)("/nexus_entry/log_spectrum/X_log"),domainForXLog=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.i)(dataArrayForXLog.data),Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.e,{...args}),LogForY=Template.bind({});LogForY.storyName="Log for Y",LogForY.args={dataArray:dataArray,domain:logSafeDomain,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log};const SymLogForY=Template.bind({});SymLogForY.storyName="Sym Log for Y",SymLogForY.args={dataArray:dataArray,domain:domain,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.SymLog};const LogForX=Template.bind({});LogForX.storyName="Log for X",LogForX.args={dataArray:dataArrayForXLog,domain:domainForXLog,abscissaParams:{scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log}};const SymLogForX=Template.bind({});SymLogForX.storyName="Sym Log for X",SymLogForX.args={dataArray:dataArrayForXLog,domain:domainForXLog,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.SymLog};const LogLog=Template.bind({});LogLog.args={dataArray:dataArrayForXLog,domain:domainForXLog,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log,abscissaParams:{scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log}},__webpack_exports__.default={..._LineVis_stories__WEBPACK_IMPORTED_MODULE_1__.default,title:"Visualizations/LineVis/Scales"},LogForY.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...LogForY.parameters},SymLogForY.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...SymLogForY.parameters},LogForX.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...LogForX.parameters},SymLogForX.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...SymLogForX.parameters},LogLog.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...LogLog.parameters}},1405:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DisplayNumber",(function(){return DisplayNumber})),__webpack_require__.d(__webpack_exports__,"DisplayString",(function(){return DisplayString}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_packages_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8);const Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_1__.f,{...args}),DisplayNumber=Template.bind({});DisplayNumber.args={value:1024};const DisplayString=Template.bind({});DisplayString.args={value:"This is a scalar"},__webpack_exports__.default={title:"Visualizations/ScalarVis",component:_packages_lib__WEBPACK_IMPORTED_MODULE_1__.f},DisplayNumber.parameters={storySource:{source:"(args) => <ScalarVis {...args} />"},...DisplayNumber.parameters},DisplayString.parameters={storySource:{source:"(args) => <ScalarVis {...args} />"},...DisplayString.parameters}},1406:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"IndexDomains",(function(){return IndexDomains})),__webpack_require__.d(__webpack_exports__,"ArbitraryDomains",(function(){return ArbitraryDomains})),__webpack_require__.d(__webpack_exports__,"LogScales",(function(){return LogScales})),__webpack_require__.d(__webpack_exports__,"AspectRatio",(function(){return AspectRatio})),__webpack_require__.d(__webpack_exports__,"NoGrid",(function(){return NoGrid})),__webpack_require__.d(__webpack_exports__,"AxesLabels",(function(){return AxesLabels})),__webpack_require__.d(__webpack_exports__,"GraphTitle",(function(){return GraphTitle})),__webpack_require__.d(__webpack_exports__,"InheritedStyles",(function(){return InheritedStyles}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(128),_packages_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);const Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_2__.h,{...args}),IndexDomains=Template.bind({});IndexDomains.args={abscissaConfig:{domain:[0,3],showGrid:!0,isIndexAxis:!0},ordinateConfig:{domain:[50,100],showGrid:!0,isIndexAxis:!0}};const ArbitraryDomains=Template.bind({});ArbitraryDomains.args={abscissaConfig:{domain:[0,3],showGrid:!0},ordinateConfig:{domain:[50,100],showGrid:!0}};const LogScales=Template.bind({});LogScales.args={abscissaConfig:{domain:[1,10],showGrid:!0,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.Log},ordinateConfig:{domain:[-10,10],showGrid:!0,scaleType:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.g.SymLog}};const AspectRatio=Template.bind({});AspectRatio.args={abscissaConfig:{domain:[0,10],showGrid:!0,isIndexAxis:!0},ordinateConfig:{domain:[0,2],showGrid:!0,isIndexAxis:!0},aspectRatio:5};const NoGrid=Template.bind({});NoGrid.args={abscissaConfig:{domain:[-5,20],showGrid:!1,isIndexAxis:!0},ordinateConfig:{domain:[0,2],showGrid:!1}};const AxesLabels=Template.bind({});AxesLabels.args={abscissaConfig:{domain:[0,3],showGrid:!0,label:"Abscissas"},ordinateConfig:{domain:[50,100],showGrid:!0,label:"Ordinates"}};const GraphTitle=Template.bind({});GraphTitle.args={abscissaConfig:{domain:[0,3],showGrid:!0,isIndexAxis:!0},ordinateConfig:{domain:[50,100],showGrid:!0,isIndexAxis:!0},canvasTitle:"This is a graph"};const InheritedStyles=Template.bind({});InheritedStyles.args={abscissaConfig:{domain:[0,50],showGrid:!0,isIndexAxis:!0,label:"X values"},ordinateConfig:{domain:[0,3],showGrid:!0,isIndexAxis:!0,label:"Y values"},canvasTitle:"The title"},InheritedStyles.decorators=[VisCanvasStory=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{flex:"1 1 0%",display:"flex",fontFamily:"monospace",fontWeight:"bold",fontSize:"1.125rem"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(VisCanvasStory,{})})],__webpack_exports__.default={title:"Building Blocks/VisCanvas",component:_packages_lib__WEBPACK_IMPORTED_MODULE_2__.h,parameters:{layout:"fullscreen"},decorators:[_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_1__.a]},IndexDomains.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...IndexDomains.parameters},ArbitraryDomains.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...ArbitraryDomains.parameters},LogScales.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...LogScales.parameters},AspectRatio.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...AspectRatio.parameters},NoGrid.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...NoGrid.parameters},AxesLabels.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...AxesLabels.parameters},GraphTitle.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...GraphTitle.parameters},InheritedStyles.parameters={storySource:{source:"(args) => <VisCanvas {...args} />"},...InheritedStyles.parameters}},146:function(module,exports,__webpack_require__){module.exports={colorBar:"ColorBar_colorBar__39u-6",gradient:"ColorBar_gradient__3uRdN",axis:"ColorBar_axis__22dR5",tick:"ColorBar_tick__Yej21",bound:"ColorBar_bound__2YDG5",minBound:"ColorBar_minBound__2U6wW ColorBar_bound__2YDG5",maxBound:"ColorBar_maxBound__svuSh ColorBar_bound__2YDG5"}},203:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Domain",(function(){return Domain})),__webpack_require__.d(__webpack_exports__,"ErrorBars",(function(){return ErrorBars}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),ndarray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(112),ndarray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(ndarray__WEBPACK_IMPORTED_MODULE_1__),_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(128),_packages_lib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8);const dataArray=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_3__.j)("/nD_datasets/oneD_linear"),domain=Object(_packages_lib__WEBPACK_IMPORTED_MODULE_3__.i)(dataArray.data),errorsArray=ndarray__WEBPACK_IMPORTED_MODULE_1___default()(Array.from({length:dataArray.size},(_,i)=>Math.abs(10-.5*i)),dataArray.shape),Template=args=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages_lib__WEBPACK_IMPORTED_MODULE_3__.e,{...args}),Default=Template.bind({});Default.args={dataArray:dataArray,domain:domain};const Domain=Template.bind({});Domain.args={dataArray:dataArray,domain:[-100,100]};const ErrorBars=Template.bind({});ErrorBars.args={dataArray:dataArray,domain:[-31,31],errorsArray:errorsArray,showErrors:!0};const LineVisStoriesConfig={title:"Visualizations/LineVis",component:_packages_lib__WEBPACK_IMPORTED_MODULE_3__.e,parameters:{layout:"fullscreen"},decorators:[_decorators_FillHeight__WEBPACK_IMPORTED_MODULE_2__.a],argTypes:{dataArray:{},domain:{},curveType:{defaultValue:_packages_lib__WEBPACK_IMPORTED_MODULE_3__.b.LineOnly,control:{type:"inline-radio",options:[_packages_lib__WEBPACK_IMPORTED_MODULE_3__.b.LineOnly,_packages_lib__WEBPACK_IMPORTED_MODULE_3__.b.GlyphsOnly,_packages_lib__WEBPACK_IMPORTED_MODULE_3__.b.LineAndGlyphs]}},scaleType:{defaultValue:_packages_lib__WEBPACK_IMPORTED_MODULE_3__.g.Linear,control:{type:"inline-radio",options:[_packages_lib__WEBPACK_IMPORTED_MODULE_3__.g.Linear,_packages_lib__WEBPACK_IMPORTED_MODULE_3__.g.Log,_packages_lib__WEBPACK_IMPORTED_MODULE_3__.g.SymLog]}},showGrid:{defaultValue:!0}}};__webpack_exports__.default=LineVisStoriesConfig,Default.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...Default.parameters},Domain.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...Domain.parameters},ErrorBars.parameters={storySource:{source:"(args) => <LineVis {...args} />"},...ErrorBars.parameters}},268:function(module,exports,__webpack_require__){module.exports={visArea:"VisCanvas_visArea__82c5m",vis:"VisCanvas_vis__yc-fW",canvasWrapper:"VisCanvas_canvasWrapper__2spCw"}},270:function(module,exports,__webpack_require__){module.exports={tooltip:"TooltipMesh_tooltip__Elx2C",guides:"TooltipMesh_guides__lbQGd",tooltipValue:"TooltipMesh_tooltipValue__V0pkp"}},583:function(module,exports,__webpack_require__){module.exports={scalar:"ScalarVis_scalar__3FHGh"}},584:function(module,exports,__webpack_require__){module.exports={root:"LineVis_root__39r6c"}},592:function(module,exports,__webpack_require__){module.exports={root:"HeatmapVis_root__BKPci"}},598:function(module,exports,__webpack_require__){__webpack_require__(599),__webpack_require__(859),__webpack_require__(860),__webpack_require__(1065),__webpack_require__(1284),__webpack_require__(1317),__webpack_require__(1322),__webpack_require__(1334),__webpack_require__(1336),__webpack_require__(1341),__webpack_require__(1343),module.exports=__webpack_require__(1347)},704:function(module,exports){},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return scalar_ScalarVis})),__webpack_require__.d(__webpack_exports__,"e",(function(){return line_LineVis})),__webpack_require__.d(__webpack_exports__,"c",(function(){return heatmap_HeatmapVis})),__webpack_require__.d(__webpack_exports__,"h",(function(){return shared_VisCanvas})),__webpack_require__.d(__webpack_exports__,"a",(function(){return heatmap_ColorBar})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getDomain})),__webpack_require__.d(__webpack_exports__,"d",(function(){return INTERPOLATORS})),__webpack_require__.d(__webpack_exports__,"g",(function(){return ScaleType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CurveType})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getMockDataArray}));var jsx_runtime=__webpack_require__(1),ScalarVis_module=__webpack_require__(583),ScalarVis_module_default=__webpack_require__.n(ScalarVis_module);function ScalarVis(props){const{value:value}=props;return Object(jsx_runtime.jsx)("div",{className:ScalarVis_module_default.a.scalar,children:value.toString()})}var scalar_ScalarVis=ScalarVis;try{ScalarVis.displayName="ScalarVis",ScalarVis.__docgenInfo={description:"",displayName:"ScalarVis",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number | boolean | Complex"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/scalar/ScalarVis.tsx#ScalarVis"]={docgenInfo:ScalarVis.__docgenInfo,name:"ScalarVis",path:"src/h5web/vis-packs/core/scalar/ScalarVis.tsx#ScalarVis"})}catch(__react_docgen_typescript_loader_error){}var react=__webpack_require__(0),defaultLocale=__webpack_require__(1467),range=__webpack_require__(1426),LineVis_module=__webpack_require__(584),LineVis_module_default=__webpack_require__.n(LineVis_module),components=__webpack_require__(590);let CurveType;!function(CurveType){CurveType.LineOnly="OnlyLine",CurveType.GlyphsOnly="OnlyGlyphs",CurveType.LineAndGlyphs="LineAndGlyphs"}(CurveType||(CurveType={}));const GLYPH_URLS_Cross="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAHlBMVEUAAAD///////////////////////////////////8kfJuVAAAACXRSTlMACbu0wfZESz4dBezaAAAB+0lEQVRo3qXZLU4lMBiF4WJuRpK5K0COHIlkExAcBs8m2AA/ortFcG/eFMFTwlH9avqkqicdpxyuxo9yfBprHt8uG5yLf3frxuF+3jQ5f+f70wqYM8IOYM67L4AZYQcwT4QAEfYAJ0KACFuAEyFAhD1AhAARDIgQIMIWIEKACAZECBDBgAgBIhgQIUAEAxZCgAgGRAgQQYCVcD3XXAmw5nUcGyIY0HkXXwk3BpSXywECAQMEA0AgAAQDQCAABANAIAAEA0AgAAQDQCAABANAIAAEA0QQgAQBTADABAFMAMAEAUwAwAQBTADABAFMAMAEAUwAwAQATADABABMIMAEA0wwwIQAJghgAgAmCGACACYIYAIAJghgAgAmCGACACYI4GKCJ4ubEZ4sBoBgAAgEgGAACQaYYIAJBphggAkGmGBABANMMMAEA0wwwAQ3I/QINyNUGTcjVBkCUGUMUJUxAAQDQCAABANAIAAEA0AgAAQDQCAABANAIAAEA0AgQAQCRBDABABMEMAEAEwQwAQATBDABABMEMAEAEwQwAQATPj998AzACDcjj/33wB4C+8PI0IAEwKMCAFAWAERApgQIEIAElZAhAAmBIgQwIQAEQKYECBCAOcYIEKALUKACAFMCBAhwA7hDIgQYItwBkQIsEf4BJTD/9ZbhDPgA552uER37zCWAAAAAElFTkSuQmCC",GLYPH_URLS_Cap="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAVSURBVChTYxiEgPE/EEDZQwgwMAAA2UoD/tFzIqIAAAAASUVORK5CYII=";var web=__webpack_require__(40),three_module=__webpack_require__(28);function GlyphMaterial(props){const{color:color,size:size,glyphURL:glyphURL}=props,sprite=Object(web.c)(three_module.TextureLoader,glyphURL||GLYPH_URLS_Cross);return sprite.magFilter=three_module.NearestFilter,Object(jsx_runtime.jsx)("pointsMaterial",{attach:"material",map:sprite,color:color,size:size,transparent:!0})}var line_GlyphMaterial=GlyphMaterial;try{GlyphMaterial.displayName="GlyphMaterial",GlyphMaterial.__docgenInfo={description:"",displayName:"GlyphMaterial",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},glyphURL:{defaultValue:null,description:"",name:"glyphURL",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/line/GlyphMaterial.tsx#GlyphMaterial"]={docgenInfo:GlyphMaterial.__docgenInfo,name:"GlyphMaterial",path:"src/h5web/vis-packs/core/line/GlyphMaterial.tsx#GlyphMaterial"})}catch(__react_docgen_typescript_loader_error){}function ErrorBars(props){const{barsSegments:barsSegments,capsPoints:capsPoints,color:color,visible:visible}=props,barsGeometry=Object(web.e)(geometry=>geometry.setFromPoints(barsSegments),[barsSegments]),capsGeometry=Object(web.e)(geometry=>geometry.setFromPoints(capsPoints),[capsPoints]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("lineSegments",{visible:visible,children:[Object(jsx_runtime.jsx)("lineBasicMaterial",{attach:"material",color:color,linewidth:2}),Object(jsx_runtime.jsx)("bufferGeometry",{attach:"geometry",ref:barsGeometry})]}),Object(jsx_runtime.jsxs)("points",{visible:visible,children:[Object(jsx_runtime.jsx)(line_GlyphMaterial,{glyphURL:GLYPH_URLS_Cap,color:color,size:9}),Object(jsx_runtime.jsx)("bufferGeometry",{attach:"geometry",ref:capsGeometry})]})]})}var line_ErrorBars=ErrorBars;try{ErrorBars.displayName="ErrorBars",ErrorBars.__docgenInfo={description:"",displayName:"ErrorBars",props:{capsPoints:{defaultValue:null,description:"",name:"capsPoints",required:!0,type:{name:"Vector3[] | Vector2[]"}},barsSegments:{defaultValue:null,description:"",name:"barsSegments",required:!0,type:{name:"Vector3[] | Vector2[]"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/line/ErrorBars.tsx#ErrorBars"]={docgenInfo:ErrorBars.__docgenInfo,name:"ErrorBars",path:"src/h5web/vis-packs/core/line/ErrorBars.tsx#ErrorBars"})}catch(__react_docgen_typescript_loader_error){}var isNumber=__webpack_require__(1427),createMemo=__webpack_require__(1428),linear=__webpack_require__(1423),log=__webpack_require__(1471),symlog=__webpack_require__(1474),scales_threshold=__webpack_require__(1475),ticks=__webpack_require__(1425),ndarray=__webpack_require__(112),ndarray_default=__webpack_require__.n(ndarray),ndarray_ops=__webpack_require__(589);let ScaleType,DomainError;!function(ScaleType){ScaleType.Linear="linear",ScaleType.Log="log",ScaleType.SymLog="symlog"}(ScaleType||(ScaleType={})),function(DomainError){DomainError.MinGreater="min-greater",DomainError.InvalidMinWithLog="invalid-min-with-log",DomainError.InvalidMaxWithLog="invalid-max-with-log",DomainError.CustomMaxFallback="custom-max-fallback"}(DomainError||(DomainError={}));const TICK_FORMAT=Object(defaultLocale.a)("0"),DEFAULT_DOMAIN=[.1,1],adaptedNumTicks=Object(linear.a)({domain:[300,900],range:[3,10],clamp:!0,round:!0}),adaptedLogTicksThreshold=Object(linear.a)({domain:[300,500],range:[.8,1.4]});function createAxisScale(config){const{type:type}=config;switch(type){case ScaleType.Linear:return Object(linear.a)(config);case ScaleType.Log:return Object(log.a)(config);case ScaleType.SymLog:return Object(symlog.a)(config);default:throw new Error("Unknown type")}}function getNewBounds(oldBounds,value){const[minBound,maxBound,minPositiveBound]=oldBounds;return[Math.min(value,minBound),Math.max(value,maxBound),value>0?Math.min(value,minPositiveBound):minPositiveBound]}function getDomain(valuesArray,scaleType=ScaleType.Linear,errorArray){const values=Array.isArray(valuesArray)?valuesArray:valuesArray.data,errors=errorArray&&(Array.isArray(errorArray)?errorArray:errorArray.data);if(0===values.length)return;if(errors&&errors.length!==values.length)throw new Error("Errors length (".concat(errors.length,") does not match data length (").concat(values.length,")"));const[min,max,positiveMin]=values.reduce((acc,val,i)=>{const newBounds=getNewBounds(acc,val),err=errors&&errors[i];return err?getNewBounds(getNewBounds(newBounds,val-err),val+err):newBounds},[values[0],values[0],1/0]);return scaleType!==ScaleType.Log||min*max>0?[min,max]:positiveMin!==1/0?[positiveMin,max]:void 0}function clampBound(val,withPositiveMin=!1){const absVal=Math.abs(val);return withPositiveMin&&absVal<=0?Number.MIN_VALUE:absVal>Number.MAX_VALUE/2?Math.sign(val)*Number.MAX_VALUE/2:val}function extendDomain(domain,extendFactor,scaleType=ScaleType.Linear){if(extendFactor<=0)return domain;const[min,max]=domain,isLog=scaleType===ScaleType.Log;if(min<=0&&isLog)throw new Error("Expected domain compatible with log scale");if(min===max)return function extendEmptyDomain(value,extendFactor,scaleType){if(scaleType===ScaleType.Log)return[value*10**-extendFactor,value*10**extendFactor];if(0===value)return[-1,1];const extension=Math.abs(value)*extendFactor;return[value-extension,value+extension]}(min,extendFactor,scaleType);const scale=createAxisScale({type:scaleType,domain:domain,range:[0,1]});return[clampBound(scale.invert(-extendFactor),isLog),clampBound(scale.invert(1+extendFactor),isLog)]}function getValueToIndexScale(values,switchAtMidpoints){const indices=Object(range.a)(values.length),thresholds=switchAtMidpoints?values.map((_,i)=>values[i-1]+(values[i]-values[i-1])/2):values;return Object(scales_threshold.a)({domain:thresholds.slice(1),range:indices})}function getCanvasScale(config,canvasSize){const{scaleType:scaleType,domain:domain}=config;return createAxisScale({domain:domain,range:[-canvasSize/2,canvasSize/2],type:scaleType||ScaleType.Linear})}function getIntegerTicks(domain,count){const[min,max]=domain,intMin=Math.ceil(min),intMax=Math.floor(max),domainLength=intMax-intMin+1,optimalCount=Math.min(domainLength,count);if(0===optimalCount)return[];const step=Math.max(Object(ticks.c)(intMin,intMax,optimalCount),1),start=Math.ceil(min/step),numTicks=Math.floor(max/step)-start+1;return Array.from({length:numTicks},(_,i)=>(start+i)*step)}function getTickFormatter(domain,availableSize,scaleType){if(scaleType!==ScaleType.Log)return TICK_FORMAT;const[min,max]=domain[0]>0?domain:[-domain[1],-[domain[0]]];return max/min<10**adaptedLogTicksThreshold(availableSize)?TICK_FORMAT:val=>{const loggedVal=Math.log10(Math.abs(val.valueOf()));return loggedVal===Math.floor(loggedVal)?TICK_FORMAT(val):""}}function getBaseArray(value,rawDims){return value&&ndarray_default()(value.flat(1/0),rawDims)}function applyMapping(baseArray,mapping){if(!baseArray)return;const isXBeforeY=mapping.includes("y")&&mapping.indexOf("x")<mapping.indexOf("y"),slicingState=mapping.map(val=>Object(isNumber.a)(val)?val:null),slicedView=baseArray.pick(...slicingState),mappedView=isXBeforeY?slicedView.transpose(1,0):slicedView,mappedArray=ndarray_default()([],mappedView.shape);return Object(ndarray_ops.assign)(mappedArray,mappedView),mappedArray}var AxisSystemContext=Object(react.createContext)({});Object(createMemo.a)(getDomain);function useCanvasScales(){const{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig}=Object(react.useContext)(AxisSystemContext),{size:size}=Object(web.d)(),{width:width,height:height}=size;return{abscissaScale:getCanvasScale(abscissaConfig,width),ordinateScale:getCanvasScale(ordinateConfig,height)}}Object(createMemo.a)((function getCombinedDomain(domain,domainsToCombine){if(0===domainsToCombine.length)return domain;const[domainToCombine,...remainingDomains]=domainsToCombine;return void 0===domain||void 0===domainToCombine?domain||domainToCombine:getCombinedDomain([Math.min(domain[0],domainToCombine[0]),Math.max(domain[1],domainToCombine[1])],remainingDomains)})),Object(createMemo.a)(getBaseArray),Object(createMemo.a)(applyMapping);function DataCurve(props){const{abscissas:abscissas,ordinates:ordinates,errors:errors,showErrors:showErrors,color:color="--secondary-dark",curveType:curveType=CurveType.LineOnly}=props,{gl:gl}=Object(web.d)(),curveColor=color.startsWith("--")?window.getComputedStyle(gl.domElement).getPropertyValue(color).trim():color,points=function useCanvasPoints(abscissas,ordinates,errors){const{camera:camera}=Object(web.d)(),{abscissaScale:abscissaScale,ordinateScale:ordinateScale}=useCanvasScales();return Object(react.useMemo)(()=>{const dataPoints=[],errorBarSegments=[],errorCapPoints=[];return ordinates.forEach((val,index)=>{const x=abscissaScale(abscissas[index]),y=ordinateScale(val),finiteData=Number.isFinite(x)&&Number.isFinite(y),dataVector=finiteData?new three_module.Vector3(x,y,0):new three_module.Vector3(0,0,camera.far);dataPoints.push(dataVector);const error=errors&&errors[index];if(!error||!finiteData)return;const yErrBottom=ordinateScale(val-error),yErrTop=ordinateScale(val+error);if(Number.isFinite(yErrBottom)){const errBottomVector=new three_module.Vector3(x,yErrBottom,0);errorBarSegments.push(errBottomVector,dataVector),errorCapPoints.push(errBottomVector)}if(Number.isFinite(yErrTop)){const errTopVector=new three_module.Vector3(x,yErrTop,0);errorBarSegments.push(dataVector,errTopVector),errorCapPoints.push(errTopVector)}}),{data:dataPoints,bars:errorBarSegments,caps:errorCapPoints}},[abscissaScale,abscissas,camera.far,errors,ordinateScale,ordinates])}(abscissas,ordinates,errors),dataGeometry=Object(react.useMemo)(()=>{const geometry=new three_module.BufferGeometry;return geometry.setFromPoints(points.data),geometry},[points.data]),showLine=curveType!==CurveType.GlyphsOnly,showGlyphs=curveType!==CurveType.LineOnly;return Object(jsx_runtime.jsxs)(react.Suspense,{fallback:null,children:[Object(jsx_runtime.jsx)(components.a,{visible:showLine,geometry:dataGeometry,children:Object(jsx_runtime.jsx)("lineBasicMaterial",{attach:"material",color:curveColor,linewidth:2})}),Object(jsx_runtime.jsx)("points",{visible:showGlyphs,geometry:dataGeometry,children:Object(jsx_runtime.jsx)(line_GlyphMaterial,{color:curveColor,size:6})}),showErrors&&errors&&Object(jsx_runtime.jsx)(line_ErrorBars,{barsSegments:points.bars,capsPoints:points.caps,color:curveColor})]})}var line_DataCurve=DataCurve;try{DataCurve.displayName="DataCurve",DataCurve.__docgenInfo={description:"",displayName:"DataCurve",props:{abscissas:{defaultValue:null,description:"",name:"abscissas",required:!0,type:{name:"number[]"}},ordinates:{defaultValue:null,description:"",name:"ordinates",required:!0,type:{name:"number[]"}},errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"number[]"}},showErrors:{defaultValue:null,description:"",name:"showErrors",required:!1,type:{name:"boolean"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},curveType:{defaultValue:null,description:"",name:"curveType",required:!1,type:{name:"CurveType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/line/DataCurve.tsx#DataCurve"]={docgenInfo:DataCurve.__docgenInfo,name:"DataCurve",path:"src/h5web/vis-packs/core/line/DataCurve.tsx#DataCurve"})}catch(__react_docgen_typescript_loader_error){}var useMeasure=__webpack_require__(1470),VisCanvas_module=__webpack_require__(268),VisCanvas_module_default=__webpack_require__.n(VisCanvas_module),react_dom=__webpack_require__(111),react_dom_default=__webpack_require__.n(react_dom);const Html=Object(react.forwardRef)((props,ref)=>{const{className:className,style:style,children:children,...divProps}=props,{gl:gl,size:size}=Object(web.d)(),{width:width,height:height}=size,{parentElement:parentElement}=gl.domElement,[el]=Object(react.useState)(()=>document.createElement("div"));return Object(react.useEffect)(()=>(el.style.cssText="position: absolute; top: 0; left: 0; z-index: 0;",parentElement&&parentElement.append(el),()=>{parentElement&&el.remove(),react_dom_default.a.unmountComponentAtNode(el)}),[el,parentElement]),Object(react.useLayoutEffect)(()=>{react_dom_default.a.render(Object(jsx_runtime.jsx)("div",{ref:ref,className:className,style:{position:"absolute",top:0,left:0,width:width,height:height,...style},...divProps,children:children}),el)},[children,className,el,height,width,style,divProps,ref]),null});var shared_Html=Html;try{Html.displayName="Html",Html.__docgenInfo={description:"",displayName:"Html",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/shared/Html.tsx#Html"]={docgenInfo:Html.__docgenInfo,name:"Html",path:"src/h5web/vis-packs/core/shared/Html.tsx#Html"})}catch(__react_docgen_typescript_loader_error){}var AxisSystem_module=__webpack_require__(131),AxisSystem_module_default=__webpack_require__.n(AxisSystem_module),AxisBottom=__webpack_require__(1429),AxisLeft=__webpack_require__(1432),GridColumns=__webpack_require__(1431),GridRows=__webpack_require__(1433);const AXIS_PROPS={hideAxisLine:!0,tickClassName:AxisSystem_module_default.a.tick,labelClassName:AxisSystem_module_default.a.label,labelProps:{},tickComponent:({formattedValue:formattedValue,...tickProps})=>Object(jsx_runtime.jsx)("text",{...tickProps,children:formattedValue})},COMPONENTS={abscissa:[AxisBottom.a,GridColumns.a],ordinate:[AxisLeft.a,GridRows.a]};function Axis_Axis(props){const{type:type,config:config,domain:domain,canvasSize:canvasSize,flipAxis:flipAxis}=props,{width:width,height:height}=canvasSize,axisLength="abscissa"===type?width:height,{scaleType:scaleType=ScaleType.Linear,isIndexAxis:isIndexAxis,showGrid:showGrid,label:label}=config,scale=createAxisScale({domain:domain,range:flipAxis?[axisLength,0]:[0,axisLength],type:scaleType}),[AxisComponent,GridComponent]=COMPONENTS[type],numTicks=adaptedNumTicks(axisLength),ticksProp=isIndexAxis?{tickValues:getIntegerTicks(domain,numTicks)}:{numTicks:numTicks};return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("svg",{className:AxisSystem_module_default.a.axis,"data-type":type,children:Object(jsx_runtime.jsx)(AxisComponent,{scale:scale,tickFormat:getTickFormatter(domain,axisLength,scaleType),label:label,labelOffset:"abscissa"===type?22:42,...ticksProp,...AXIS_PROPS})}),showGrid&&Object(jsx_runtime.jsx)("svg",{className:AxisSystem_module_default.a.grid,children:Object(jsx_runtime.jsx)(GridComponent,{scale:scale,width:width,height:height,...ticksProp})})]})}var shared_Axis=Axis_Axis;try{Axis_Axis.displayName="Axis",Axis_Axis.__docgenInfo={description:"",displayName:"Axis",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"abscissa"'},{value:'"ordinate"'}]}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"AxisConfig"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},canvasSize:{defaultValue:null,description:"",name:"canvasSize",required:!0,type:{name:"Size"}},flipAxis:{defaultValue:null,description:"",name:"flipAxis",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/shared/Axis.tsx#Axis"]={docgenInfo:Axis_Axis.__docgenInfo,name:"Axis",path:"src/h5web/vis-packs/core/shared/Axis.tsx#Axis"})}catch(__react_docgen_typescript_loader_error){}function AxisSystem(props){const{axisOffsets:axisOffsets,title:title}=props,{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig}=Object(react.useContext)(AxisSystemContext),{camera:camera,size:size}=Object(web.d)(),{position:position,zoom:zoom}=camera,{width:width,height:height}=size,{abscissaScale:abscissaScale,ordinateScale:ordinateScale}=useCanvasScales(),xVisibleDomain=[abscissaScale.invert(-width/(2*zoom)+position.x),abscissaScale.invert(width/(2*zoom)+position.x)],yVisibleDomain=[ordinateScale.invert(-height/(2*zoom)+position.y),ordinateScale.invert(height/(2*zoom)+position.y)];return function useFrameRendering(){const[,setNum]=Object(react.useState)(0);Object(web.b)(()=>{setNum(Math.random())})}(),Object(jsx_runtime.jsxs)(shared_Html,{className:AxisSystem_module_default.a.axisSystem,style:{top:-axisOffsets.top,left:-axisOffsets.left,width:width+axisOffsets.left+axisOffsets.right,height:height+axisOffsets.bottom+axisOffsets.top,gridTemplateColumns:"".concat(axisOffsets.left,"px 1fr ").concat(axisOffsets.right,"px"),gridTemplateRows:"".concat(axisOffsets.top,"px 1fr ").concat(axisOffsets.bottom,"px")},children:[title&&Object(jsx_runtime.jsx)("p",{id:"vis-title",className:AxisSystem_module_default.a.title,children:title}),Object(jsx_runtime.jsx)(shared_Axis,{type:"abscissa",config:abscissaConfig,domain:xVisibleDomain,canvasSize:size}),Object(jsx_runtime.jsx)(shared_Axis,{type:"ordinate",config:ordinateConfig,domain:yVisibleDomain,canvasSize:size,flipAxis:!0})]})}var shared_AxisSystem=AxisSystem;try{AxisSystem.displayName="AxisSystem",AxisSystem.__docgenInfo={description:"",displayName:"AxisSystem",props:{axisOffsets:{defaultValue:null,description:"",name:"axisOffsets",required:!0,type:{name:"AxisOffsets"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/shared/AxisSystem.tsx#AxisSystem"]={docgenInfo:AxisSystem.__docgenInfo,name:"AxisSystem",path:"src/h5web/vis-packs/core/shared/AxisSystem.tsx#AxisSystem"})}catch(__react_docgen_typescript_loader_error){}const AXIS_OFFSETS_vertical=72,AXIS_OFFSETS_horizontal=36,AXIS_OFFSETS_fallback=16;function VisCanvas(props){const{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig,aspectRatio:aspectRatio,canvasTitle:canvasTitle,children:children}=props,[visAreaRef,visAreaSize]=Object(useMeasure.a)(),axisOffsets={left:AXIS_OFFSETS_vertical,bottom:abscissaConfig.label?AXIS_OFFSETS_horizontal+AXIS_OFFSETS_fallback:AXIS_OFFSETS_horizontal,right:AXIS_OFFSETS_fallback,top:canvasTitle?AXIS_OFFSETS_horizontal:AXIS_OFFSETS_fallback},visSize=function computeVisSize(availableSize,aspectRatio){const{width:width,height:height}=availableSize;if(width<=0&&height<=0)return;return aspectRatio?width/aspectRatio>height?{width:height*aspectRatio,height:height}:{width:width,height:width/aspectRatio}:availableSize}({width:visAreaSize.width-axisOffsets.left-axisOffsets.right,height:visAreaSize.height-axisOffsets.bottom-axisOffsets.top},aspectRatio);return Object(jsx_runtime.jsx)("div",{ref:visAreaRef,className:VisCanvas_module_default.a.visArea,children:visSize&&Object(jsx_runtime.jsx)("div",{className:VisCanvas_module_default.a.vis,style:{...visSize,paddingBottom:axisOffsets.bottom,paddingLeft:axisOffsets.left,paddingTop:axisOffsets.top,paddingRight:axisOffsets.right,boxSizing:"content-box"},children:Object(jsx_runtime.jsxs)(web.a,{className:VisCanvas_module_default.a.canvasWrapper,orthographic:!0,invalidateFrameloop:!0,pixelRatio:window.devicePixelRatio,gl:{preserveDrawingBuffer:!0},gl2:!0,children:[Object(jsx_runtime.jsx)("ambientLight",{}),Object(jsx_runtime.jsxs)(AxisSystemContext.Provider,{value:{abscissaConfig:abscissaConfig,ordinateConfig:ordinateConfig},children:[Object(jsx_runtime.jsx)(shared_AxisSystem,{title:canvasTitle,axisOffsets:axisOffsets}),children]})]})})})}var shared_VisCanvas=VisCanvas;try{VisCanvas.displayName="VisCanvas",VisCanvas.__docgenInfo={description:"",displayName:"VisCanvas",props:{abscissaConfig:{defaultValue:null,description:"",name:"abscissaConfig",required:!0,type:{name:"AxisConfig"}},ordinateConfig:{defaultValue:null,description:"",name:"ordinateConfig",required:!0,type:{name:"AxisConfig"}},aspectRatio:{defaultValue:null,description:"",name:"aspectRatio",required:!1,type:{name:"number"}},canvasTitle:{defaultValue:null,description:"",name:"canvasTitle",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/shared/VisCanvas.tsx#VisCanvas"]={docgenInfo:VisCanvas.__docgenInfo,name:"VisCanvas",path:"src/h5web/vis-packs/core/shared/VisCanvas.tsx#VisCanvas"})}catch(__react_docgen_typescript_loader_error){}var clamp=__webpack_require__(1476);var shared_PanZoomMesh=function PanZoomMesh(){const{camera:camera,invalidate:invalidate,size:size}=Object(web.d)(),{width:width,height:height}=size,startOffsetPosition=Object(react.useRef)(),moveCameraTo=Object(react.useCallback)((x,y)=>{const{position:position,zoom:zoom}=camera,factor=(1-1/zoom)/2,xBound=width*factor,yBound=height*factor;position.set(Object(clamp.a)(x,-xBound,xBound),Object(clamp.a)(y,-yBound,yBound),position.z),invalidate()},[camera,height,invalidate,width]),onPointerDown=Object(react.useCallback)(evt=>{const{currentTarget:currentTarget,pointerId:pointerId,unprojectedPoint:unprojectedPoint}=evt;currentTarget.setPointerCapture(pointerId);const projectedPoint=camera.worldToLocal(unprojectedPoint.clone());startOffsetPosition.current=camera.position.clone().add(projectedPoint)},[camera]),onPointerUp=Object(react.useCallback)(evt=>{const{currentTarget:currentTarget,pointerId:pointerId}=evt;currentTarget.releasePointerCapture(pointerId),startOffsetPosition.current=void 0},[]),onPointerMove=Object(react.useCallback)(evt=>{if(!startOffsetPosition.current)return;evt.stopPropagation();const projectedPoint=camera.worldToLocal(evt.unprojectedPoint.clone()),{x:pointerX,y:pointerY}=projectedPoint,{x:startX,y:startY}=startOffsetPosition.current;moveCameraTo(startX-pointerX,startY-pointerY)},[camera,moveCameraTo]),onWheel=Object(react.useCallback)(evt=>{const factor=evt.deltaY>0?.95:1/.95;camera.zoom=Math.max(1,camera.zoom*factor),camera.updateProjectionMatrix();const projectedPoint=camera.worldToLocal(evt.unprojectedPoint.clone()),{x:pointerX,y:pointerY}=projectedPoint,{x:camX,y:camY}=camera.position;moveCameraTo(camX+pointerX*(1-1/factor),camY+pointerY*(1-1/factor))},[camera,moveCameraTo]);Object(react.useEffect)(()=>{moveCameraTo(camera.position.x,camera.position.y)},[camera,moveCameraTo]);const wheelCaptureRef=function useWheelCapture(){const ref=Object(react.useRef)(null);return Object(react.useEffect)(()=>{const elem=ref.current;function onWheel(evt){evt.preventDefault()}return null==elem||elem.addEventListener("wheel",onWheel,{passive:!1}),()=>null==elem?void 0:elem.removeEventListener("wheel",onWheel)}),ref}();return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("mesh",{onPointerMove:onPointerMove,onPointerUp:onPointerUp,onPointerDown:onPointerDown,onWheel:onWheel,children:[Object(jsx_runtime.jsx)("meshBasicMaterial",{attach:"material",opacity:0,transparent:!0}),Object(jsx_runtime.jsx)("planeGeometry",{attach:"geometry",args:[width,height]})]}),Object(jsx_runtime.jsx)(shared_Html,{ref:wheelCaptureRef})]})},useTooltip=__webpack_require__(1434),TooltipWithBounds=__webpack_require__(1472),Line=__webpack_require__(1430),TooltipMesh_module=__webpack_require__(270),TooltipMesh_module_default=__webpack_require__.n(TooltipMesh_module);function TooltipMesh(props){const{formatIndex:formatIndex,formatValue:formatValue,guides:guides}=props,{camera:camera,size:size}=Object(web.d)(),{width:width,height:height}=size,{abscissaScale:abscissaScale,ordinateScale:ordinateScale}=useCanvasScales(),{tooltipOpen:tooltipOpen,tooltipTop:tooltipTop,tooltipLeft:tooltipLeft,tooltipData:tooltipData,showTooltip:showTooltip,hideTooltip:hideTooltip}=Object(useTooltip.a)(),onPointerMove=Object(react.useCallback)(evt=>{const{zoom:zoom}=camera,projectedPoint=camera.worldToLocal(evt.unprojectedPoint.clone()),abscissaCoord=abscissaScale.invert(evt.unprojectedPoint.x),ordinateCoord=ordinateScale.invert(evt.unprojectedPoint.y);showTooltip({tooltipLeft:projectedPoint.x*zoom+width/2,tooltipTop:-projectedPoint.y*zoom+height/2,tooltipData:[abscissaCoord,ordinateCoord]})},[camera,abscissaScale,ordinateScale,showTooltip,width,height]),onPointerOut=Object(react.useCallback)(hideTooltip,[hideTooltip]),onPointerDown=Object(react.useCallback)(hideTooltip,[hideTooltip]),onPointerUp=Object(react.useCallback)(evt=>{const{offsetX:x,offsetY:y}=evt.nativeEvent;x>=0&&x<=width&&y>=0&&y<=height&&onPointerMove(evt)},[height,onPointerMove,width]),value=tooltipData&&formatValue(tooltipData);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("mesh",{onPointerMove:onPointerMove,onPointerOut:onPointerOut,onPointerDown:onPointerDown,onPointerUp:onPointerUp,children:[Object(jsx_runtime.jsx)("meshBasicMaterial",{attach:"material",opacity:0,transparent:!0}),Object(jsx_runtime.jsx)("planeGeometry",{attach:"geometry",args:[width,height]})]}),Object(jsx_runtime.jsx)(shared_Html,{children:tooltipOpen&&tooltipData&&value&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(TooltipWithBounds.a,{className:TooltipMesh_module_default.a.tooltip,top:tooltipTop,left:tooltipLeft,children:[formatIndex(tooltipData),Object(jsx_runtime.jsx)("span",{className:TooltipMesh_module_default.a.tooltipValue,children:value})]},Math.random()),guides&&Object(jsx_runtime.jsxs)("svg",{className:TooltipMesh_module_default.a.guides,width:width,height:height,children:["horizontal"!==guides&&Object(jsx_runtime.jsx)(Line.a,{from:{x:tooltipLeft,y:0},to:{x:tooltipLeft,y:height}}),"vertical"!==guides&&Object(jsx_runtime.jsx)(Line.a,{from:{x:0,y:tooltipTop},to:{x:width,y:tooltipTop}})]})]})})]})}var shared_TooltipMesh=TooltipMesh;try{TooltipMesh.displayName="TooltipMesh",TooltipMesh.__docgenInfo={description:"",displayName:"TooltipMesh",props:{formatIndex:{defaultValue:null,description:"",name:"formatIndex",required:!0,type:{name:"(t: Coords) => string"}},formatValue:{defaultValue:null,description:"",name:"formatValue",required:!0,type:{name:"(t: Coords) => string | undefined"}},guides:{defaultValue:null,description:"",name:"guides",required:!1,type:{name:"Guides"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/shared/TooltipMesh.tsx#TooltipMesh"]={docgenInfo:TooltipMesh.__docgenInfo,name:"TooltipMesh",path:"src/h5web/vis-packs/core/shared/TooltipMesh.tsx#TooltipMesh"})}catch(__react_docgen_typescript_loader_error){}let EntityKind,DTypeClass,Endianness;function assertDefined(val,message="Expected some value"){if(!function isDefined(val){return void 0!==val}(val))throw new TypeError(message)}function assertArray(val){if(!Array.isArray(val))throw new TypeError("Expected array")}function isGroup(entity){return entity.kind===EntityKind.Group}function isDataset(entity){return entity.kind===EntityKind.Dataset}function hasNumericType(dataset){return function isNumericType(type){return[DTypeClass.Integer,DTypeClass.Unsigned,DTypeClass.Float].includes(type.class)}(dataset.type)}function LineVis(props){const{dataArray:dataArray,domain:domain,curveType:curveType=CurveType.LineOnly,showGrid:showGrid=!0,scaleType:scaleType=ScaleType.Linear,abscissaParams:abscissaParams={},ordinateLabel:ordinateLabel,title:title,errorsArray:errorsArray,showErrors:showErrors,auxArrays:auxArrays=[]}=props,{label:abscissaLabel,value:abscissas=Object(range.a)(dataArray.size),scaleType:abscissaScaleType}=abscissaParams;if(abscissas.length!==dataArray.size)throw new Error("Abscissas size (".concat(abscissas.length,") does not match data length (").concat(dataArray.size,")"));if(errorsArray&&errorsArray.size!==dataArray.size)throw new Error("Error size (".concat(errorsArray.size,") does not match data length (").concat(dataArray.size,")"));if(auxArrays.some(auxArray=>auxArray.size!==dataArray.size))throw new Error("Auxiliary arrays size does not match data length (".concat(dataArray.size,")"));const abscissaToIndex=getValueToIndexScale(abscissas,!0),abscissaDomain=Object(react.useMemo)(()=>{const rawDomain=getDomain(abscissas,abscissaScaleType);return rawDomain&&extendDomain(rawDomain,.01,abscissaScaleType)},[abscissas,abscissaScaleType]);assertDefined(abscissaDomain,"Abscissas have undefined domain");const dataDomain=Object(react.useMemo)(()=>domain?extendDomain(domain,.05,scaleType):DEFAULT_DOMAIN,[scaleType,domain]);return Object(jsx_runtime.jsx)("figure",{className:LineVis_module_default.a.root,"aria-labelledby":"vis-title",children:Object(jsx_runtime.jsxs)(shared_VisCanvas,{abscissaConfig:{domain:abscissaDomain,showGrid:showGrid,scaleType:abscissaScaleType,isIndexAxis:!abscissaParams.value,label:abscissaLabel},ordinateConfig:{domain:dataDomain,showGrid:showGrid,scaleType:scaleType,label:ordinateLabel},canvasTitle:title,children:[Object(jsx_runtime.jsx)(shared_TooltipMesh,{formatIndex:([x])=>"".concat(abscissaLabel||"x","=").concat(Object(defaultLocale.a)("0")(abscissas[abscissaToIndex(x)])),formatValue:([x])=>{const index=abscissaToIndex(x),value=dataArray.get(index);if(void 0===value)return;const error=errorsArray&&errorsArray.get(index);return error?"".concat(Object(defaultLocale.a)(".3f")(value)," Â±").concat(Object(defaultLocale.a)(".3f")(error)):"".concat(Object(defaultLocale.a)(".3f")(value))},guides:"vertical"}),Object(jsx_runtime.jsx)(shared_PanZoomMesh,{}),Object(jsx_runtime.jsx)(line_DataCurve,{curveType:curveType,abscissas:abscissas,ordinates:dataArray.data,errors:errorsArray&&errorsArray.data,showErrors:showErrors}),auxArrays.map((array,i)=>Object(jsx_runtime.jsx)(line_DataCurve,{color:"--secondary",curveType:curveType,abscissas:abscissas,ordinates:array.data},i))]})})}!function(EntityKind){EntityKind.Group="group",EntityKind.Dataset="dataset",EntityKind.Datatype="datatype",EntityKind.Unresolved="unresolved"}(EntityKind||(EntityKind={})),function(DTypeClass){DTypeClass.Bool="Boolean",DTypeClass.Integer="Integer",DTypeClass.Unsigned="Integer (unsigned)",DTypeClass.Float="Float",DTypeClass.Complex="Complex",DTypeClass.String="String",DTypeClass.Compound="Compound",DTypeClass.Array="Array",DTypeClass.VLen="Array (variable length)",DTypeClass.Enum="Enumeration",DTypeClass.Unknown="Unknown"}(DTypeClass||(DTypeClass={})),function(Endianness){Endianness.LE="little-endian",Endianness.BE="big-endian"}(Endianness||(Endianness={}));var line_LineVis=LineVis;try{LineVis.displayName="LineVis",LineVis.__docgenInfo={description:"",displayName:"LineVis",props:{dataArray:{defaultValue:null,description:"",name:"dataArray",required:!0,type:{name:"ndarray<number>"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain | undefined"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!1,type:{name:"ScaleType"}},curveType:{defaultValue:null,description:"",name:"curveType",required:!1,type:{name:"CurveType"}},showGrid:{defaultValue:null,description:"",name:"showGrid",required:!1,type:{name:"boolean"}},abscissaParams:{defaultValue:null,description:"",name:"abscissaParams",required:!1,type:{name:"AxisParams"}},ordinateLabel:{defaultValue:null,description:"",name:"ordinateLabel",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},errorsArray:{defaultValue:null,description:"",name:"errorsArray",required:!1,type:{name:"ndarray<number>"}},showErrors:{defaultValue:null,description:"",name:"showErrors",required:!1,type:{name:"boolean"}},auxArrays:{defaultValue:null,description:"",name:"auxArrays",required:!1,type:{name:"ndarray<number>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/line/LineVis.tsx#LineVis"]={docgenInfo:LineVis.__docgenInfo,name:"LineVis",path:"src/h5web/vis-packs/core/line/LineVis.tsx#LineVis"})}catch(__react_docgen_typescript_loader_error){}var HeatmapVis_module=__webpack_require__(592),HeatmapVis_module_default=__webpack_require__.n(HeatmapVis_module),AxisRight=__webpack_require__(1466),ColorBar_module=__webpack_require__(146),ColorBar_module_default=__webpack_require__.n(ColorBar_module),lodash_es_range=__webpack_require__(1469),src_color=__webpack_require__(101),Blues=__webpack_require__(1435),Greens=__webpack_require__(1436),Greys=__webpack_require__(1437),Oranges=__webpack_require__(1438),Purples=__webpack_require__(1439),Reds=__webpack_require__(1440),turbo=__webpack_require__(1441),viridis=__webpack_require__(1442),cividis=__webpack_require__(1443),rainbow=__webpack_require__(1473),BuGn=__webpack_require__(1444),BuPu=__webpack_require__(1445),GnBu=__webpack_require__(1446),OrRd=__webpack_require__(1447),PuBuGn=__webpack_require__(1448),PuBu=__webpack_require__(1449),PuRd=__webpack_require__(1450),RdPu=__webpack_require__(1451),YlGnBu=__webpack_require__(1452),YlGn=__webpack_require__(1453),YlOrBr=__webpack_require__(1454),YlOrRd=__webpack_require__(1455),sinebow=__webpack_require__(1456),BrBG=__webpack_require__(1457),PRGn=__webpack_require__(1458),PiYG=__webpack_require__(1459),PuOr=__webpack_require__(1460),RdBu=__webpack_require__(1461),RdGy=__webpack_require__(1462),RdYlBu=__webpack_require__(1463),RdYlGn=__webpack_require__(1464),Spectral=__webpack_require__(1465);const INTERPOLATORS={Blues:Blues.a,Greens:Greens.a,Greys:Greys.a,Oranges:Oranges.a,Purples:Purples.a,Reds:Reds.a,Turbo:turbo.a,Viridis:viridis.a,Inferno:viridis.b,Magma:viridis.c,Plasma:viridis.d,Cividis:cividis.a,Warm:rainbow.c,Cool:rainbow.a,BuGn:BuGn.a,BuPu:BuPu.a,GnBu:GnBu.a,OrRd:OrRd.a,PuBuGn:PuBuGn.a,PuBu:PuBu.a,PuRd:PuRd.a,RdPu:RdPu.a,YlGnBu:YlGnBu.a,YlGn:YlGn.a,YlOrBr:YlOrBr.a,YlOrRd:YlOrRd.a,Rainbow:rainbow.b,Sinebow:sinebow.a,HSL:function interpolateHsl(t){return Object(src_color.e)(360*t,1,.5).formatRgb()},BrBG:BrBG.a,PRGn:PRGn.a,PiYG:PiYG.a,PuOr:PuOr.a,RdBu:RdBu.a,RdGy:RdGy.a,RdYlBu:RdYlBu.a,RdYlGn:RdYlGn.a,Spectral:Spectral.a},GRADIENT_RANGE=Object(lodash_es_range.a)(0,1.05,.05);function getLinearGradient(interpolator,direction,minMaxOnly=!1){const colorStops=function getColorStops(interpolator,minMaxOnly){if(minMaxOnly){const min=interpolator(0),max=interpolator(1);return"".concat(min,", ").concat(min," 50%, ").concat(max," 50%, ").concat(max)}return GRADIENT_RANGE.map(interpolator).join(", ")}(interpolator,minMaxOnly);return"linear-gradient(to ".concat(direction,", ").concat(colorStops,")")}function getPixelEdges(pixelCoordinates,nPixels){if(!pixelCoordinates)return Object(lodash_es_range.a)(nPixels+1);if(pixelCoordinates.length===nPixels+1)return pixelCoordinates;if(pixelCoordinates.length===nPixels){const deltaCoord=pixelCoordinates[1]-pixelCoordinates[0];return[...pixelCoordinates,pixelCoordinates[pixelCoordinates.length-1]+deltaCoord]}throw new Error("Supplied pixel coordinate array (".concat(pixelCoordinates.length,") has not the expected length (").concat(nPixels," or ").concat(nPixels+1,")"))}function getInterpolator(colorMap,reverse){const interpolator=INTERPOLATORS[colorMap];return reverse?t=>interpolator(1-t):interpolator}const utils_formatValue=Object(defaultLocale.a)(".3~e");Object(defaultLocale.a)(".5~e");function ColorBar(props){const{domain:domain,scaleType:scaleType,colorMap:colorMap,horizontal:horizontal,withBounds:withBounds,invertColorMap:invertColorMap}=props,[gradientRef,gradientBox]=Object(useMeasure.a)(),{height:gradientHeight,width:gradientWidth}=gradientBox,gradientLength=horizontal?gradientWidth:gradientHeight,Axis=horizontal?AxisBottom.a:AxisRight.a,isEmptyDomain=domain[0]===domain[1],axisScale=createAxisScale({domain:domain,range:horizontal?[0,gradientWidth]:[gradientHeight,0],type:scaleType});return Object(jsx_runtime.jsxs)("div",{className:ColorBar_module_default.a.colorBar,"data-horizontal":horizontal||void 0,children:[withBounds&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("p",{className:ColorBar_module_default.a.minBound,children:isEmptyDomain?"âˆ’âˆž":utils_formatValue(domain[0])}),Object(jsx_runtime.jsx)("p",{className:ColorBar_module_default.a.maxBound,children:isEmptyDomain?"+âˆž":utils_formatValue(domain[1])})]}),Object(jsx_runtime.jsx)("div",{ref:gradientRef,className:ColorBar_module_default.a.gradient,style:{backgroundImage:getLinearGradient(getInterpolator(colorMap,invertColorMap),horizontal?"right":"top",domain[0]===domain[1])}}),gradientLength>0&&Object(jsx_runtime.jsx)("svg",{className:ColorBar_module_default.a.axis,width:horizontal?"100%":"2.5em",height:horizontal?"2.5em":"100%",children:Object(jsx_runtime.jsx)(Axis,{scale:axisScale,hideAxisLine:!0,numTicks:adaptedNumTicks(gradientLength),tickClassName:ColorBar_module_default.a.tick,tickFormat:axisScale.tickFormat(adaptedNumTicks(gradientLength),".3~g")})})]})}var heatmap_ColorBar=ColorBar;try{ColorBar.displayName="ColorBar",ColorBar.__docgenInfo={description:"",displayName:"ColorBar",props:{domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"enum",value:[{value:'"linear"'},{value:'"log"'},{value:'"symlog"'}]}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},withBounds:{defaultValue:null,description:"",name:"withBounds",required:!1,type:{name:"boolean"}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/heatmap/ColorBar.tsx#ColorBar"]={docgenInfo:ColorBar.__docgenInfo,name:"ColorBar",path:"src/h5web/vis-packs/core/heatmap/ColorBar.tsx#ColorBar"})}catch(__react_docgen_typescript_loader_error){}const SCALE_FUNC={[ScaleType.Linear]:val=>val,[ScaleType.Log]:Math.log10,[ScaleType.SymLog]:val=>Math.sign(val)*Math.log10(1+Math.abs(val))},CMAP_NORM={[ScaleType.Linear]:0,[ScaleType.Log]:1,[ScaleType.SymLog]:2};function Mesh(props){const{rows:rows,cols:cols,values:values,domain:domain,colorMap:colorMap,scaleType:scaleType,invertColorMap:invertColorMap=!1}=props,scaledDomain=domain.map(SCALE_FUNC[scaleType]),shader={uniforms:{data:{value:Object(react.useMemo)(()=>{const valuesArr=Float32Array.from(values);return new three_module.DataTexture(valuesArr,cols,rows,three_module.RedFormat,three_module.FloatType)},[cols,rows,values])},colorMap:{value:Object(react.useMemo)(()=>{const interpolator=getInterpolator(colorMap,invertColorMap),colors=Uint8Array.from(Array.from({length:256}).flatMap((_,i)=>{const{r:r,g:g,b:b}=Object(src_color.f)(interpolator(i/255));return[r,g,b]}));return new three_module.DataTexture(colors,256,1,three_module.RGBFormat,three_module.UnsignedByteType)},[colorMap,invertColorMap])},scaleType:{value:CMAP_NORM[scaleType]},min:{value:scaledDomain[0]},oneOverRange:{value:1/(scaledDomain[1]-scaledDomain[0])}},vertexShader:"\n      varying vec2 coords;\n\n      void main() {\n        coords = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }\n    ",fragmentShader:"\n      uniform sampler2D data;\n      uniform sampler2D colorMap;\n      uniform int scaleType;\n      uniform float min;\n      uniform float oneOverRange;\n\n      const float oneOverLog10 = 0.43429448190325176;\n      const vec4 nanColor = vec4(255, 255, 255, 1);\n\n      varying vec2 coords;\n\n      float symlog(float x) {\n        return sign(x) * log(1. + abs(x)) * oneOverLog10;\n      }\n\n      float scale(float value) {\n        if (scaleType == 1) {\n          return oneOverRange * (log(value) * oneOverLog10 - min); // Log\n        }\n\n        if (scaleType == 2) {\n          return oneOverRange * (symlog(value) - min); // SymLog\n        }\n\n        return oneOverRange * (value - min); // Linear\n      }\n\n      void main() {\n        float value = texture2D(data, coords).r;\n\n        if (scaleType == 1 && value <= 0.) {\n          gl_FragColor = nanColor;\n        } else {\n          gl_FragColor = texture2D(colorMap, vec2(scale(value), 0.5));\n        }\n      }\n    "},{size:size}=Object(web.d)(),{width:width,height:height}=size;return Object(jsx_runtime.jsxs)("mesh",{children:[Object(jsx_runtime.jsx)("planeGeometry",{attach:"geometry",args:[width,height]}),Object(jsx_runtime.jsx)("shaderMaterial",{attach:"material",args:[shader]})]})}var heatmap_Mesh=Object(react.memo)(Mesh);try{Mesh.displayName="Mesh",Mesh.__docgenInfo={description:"",displayName:"Mesh",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"number"}},cols:{defaultValue:null,description:"",name:"cols",required:!0,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"number[]"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!0,type:{name:"enum",value:[{value:'"Viridis"'},{value:'"Blues"'},{value:'"Greens"'},{value:'"Greys"'},{value:'"Oranges"'},{value:'"Purples"'},{value:'"Reds"'},{value:'"Turbo"'},{value:'"Inferno"'},{value:'"Magma"'},{value:'"Plasma"'},{value:'"Cividis"'},{value:'"Warm"'},{value:'"Cool"'},{value:'"BuGn"'},{value:'"BuPu"'},{value:'"GnBu"'},{value:'"OrRd"'},{value:'"PuBuGn"'},{value:'"PuBu"'},{value:'"PuRd"'},{value:'"RdPu"'},{value:'"YlGnBu"'},{value:'"YlGn"'},{value:'"YlOrBr"'},{value:'"YlOrRd"'},{value:'"Rainbow"'},{value:'"Sinebow"'},{value:'"HSL"'},{value:'"BrBG"'},{value:'"PRGn"'},{value:'"PiYG"'},{value:'"PuOr"'},{value:'"RdBu"'},{value:'"RdGy"'},{value:'"RdYlBu"'},{value:'"RdYlGn"'},{value:'"Spectral"'}]}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!0,type:{name:"enum",value:[{value:'"linear"'},{value:'"log"'},{value:'"symlog"'}]}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/heatmap/Mesh.tsx#Mesh"]={docgenInfo:Mesh.__docgenInfo,name:"Mesh",path:"src/h5web/vis-packs/core/heatmap/Mesh.tsx#Mesh"})}catch(__react_docgen_typescript_loader_error){}function HeatmapVis(props){const{dataArray:dataArray,domain:domain=DEFAULT_DOMAIN,colorMap:colorMap="Viridis",scaleType:scaleType=ScaleType.Linear,keepAspectRatio:keepAspectRatio=!0,showGrid:showGrid=!1,invertColorMap:invertColorMap=!1,title:title,abscissaParams:abscissaParams={},ordinateParams:ordinateParams={}}=props,{rows:rows,cols:cols}=function getDims(dataArray){const[rows,cols]=dataArray.shape;return{rows:rows,cols:cols}}(dataArray),aspectRatio=keepAspectRatio?cols/rows:void 0,abscissas=getPixelEdges(abscissaParams.value,cols),abscissaToIndex=getValueToIndexScale(abscissas),abscissaDomain=Object(react.useMemo)(()=>getDomain(abscissas),[abscissas]);assertDefined(abscissaDomain,"Abscissas have undefined domain");const ordinates=getPixelEdges(ordinateParams.value,rows),ordinateToIndex=getValueToIndexScale(ordinates),ordinateDomain=Object(react.useMemo)(()=>getDomain(ordinates),[ordinates]);return assertDefined(ordinateDomain,"Ordinates have undefined domain"),Object(jsx_runtime.jsxs)("figure",{className:HeatmapVis_module_default.a.root,"aria-labelledby":"vis-title",children:[Object(jsx_runtime.jsxs)(shared_VisCanvas,{abscissaConfig:{domain:abscissaDomain,showGrid:showGrid,isIndexAxis:!abscissaParams.value,label:abscissaParams.label},ordinateConfig:{domain:ordinateDomain,showGrid:showGrid,isIndexAxis:!ordinateParams.value,label:ordinateParams.label},aspectRatio:aspectRatio,canvasTitle:title,children:[Object(jsx_runtime.jsx)(shared_TooltipMesh,{formatIndex:([x,y])=>"".concat(abscissaParams.label||"x","=").concat(abscissas[abscissaToIndex(x)],", ").concat(ordinateParams.label||"y","=").concat(ordinates[ordinateToIndex(y)]),formatValue:([x,y])=>Object(defaultLocale.a)(".3")(dataArray.get(ordinateToIndex(y),abscissaToIndex(x))),guides:"both"}),Object(jsx_runtime.jsx)(shared_PanZoomMesh,{}),Object(jsx_runtime.jsx)(heatmap_Mesh,{rows:rows,cols:cols,values:dataArray.data,domain:domain,colorMap:colorMap,invertColorMap:invertColorMap,scaleType:scaleType})]}),Object(jsx_runtime.jsx)(heatmap_ColorBar,{domain:domain,scaleType:scaleType,colorMap:colorMap,invertColorMap:invertColorMap,withBounds:!0})]})}var heatmap_HeatmapVis=HeatmapVis;try{HeatmapVis.displayName="HeatmapVis",HeatmapVis.__docgenInfo={description:"",displayName:"HeatmapVis",props:{dataArray:{defaultValue:null,description:"",name:"dataArray",required:!0,type:{name:"ndarray<number>"}},domain:{defaultValue:null,description:"",name:"domain",required:!0,type:{name:"Domain | undefined"}},colorMap:{defaultValue:null,description:"",name:"colorMap",required:!1,type:{name:'"Viridis" | "Blues" | "Greens" | "Greys" | "Oranges" | "Purples" | "Reds" | "Turbo" | "Inferno" | "Magma" | "Plasma" | "Cividis" | "Warm" | "Cool" | "BuGn" | "BuPu" | "GnBu" | "OrRd" | ... 20 more ...'}},scaleType:{defaultValue:null,description:"",name:"scaleType",required:!1,type:{name:"ScaleType"}},keepAspectRatio:{defaultValue:null,description:"",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},showGrid:{defaultValue:null,description:"",name:"showGrid",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},invertColorMap:{defaultValue:null,description:"",name:"invertColorMap",required:!1,type:{name:"boolean"}},abscissaParams:{defaultValue:null,description:"",name:"abscissaParams",required:!1,type:{name:"AxisParams"}},ordinateParams:{defaultValue:null,description:"",name:"ordinateParams",required:!1,type:{name:"AxisParams"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/h5web/vis-packs/core/heatmap/HeatmapVis.tsx#HeatmapVis"]={docgenInfo:HeatmapVis.__docgenInfo,name:"HeatmapVis",path:"src/h5web/vis-packs/core/heatmap/HeatmapVis.tsx#HeatmapVis"})}catch(__react_docgen_typescript_loader_error){}var complex=__webpack_require__(167),complex_default=__webpack_require__.n(complex);const arr1=Object(lodash_es_range.a)(-20,21),arr2=Object(lodash_es_range.a)(0,100,5),arr3=Object(lodash_es_range.a)(-1,1.25,.25),arr4=Object(lodash_es_range.a)(10,40,10),oneD=arr1.map(val=>val**2),twoD=arr2.map(offset=>oneD.map(val=>val-offset)),threeD=arr3.map(multiplier=>twoD.map(arrOneD=>arrOneD.map(val=>val*multiplier))),fourD=arr4.map(divider=>threeD.map(arrTwoD=>arrTwoD.map(arrOneD=>arrOneD.map(val=>Math.sin(val/divider))))),mockValues={null:null,raw:{int:42},raw_large:{str:".".repeat(1e3)},scalar_int:0,scalar_str:"foo",scalar_bool:!0,oneD_linear:arr1,oneD:oneD,twoD:twoD,twoD_spectrum:twoD,secondary:twoD.map(inner=>inner.map(v=>2*v)),tertiary:twoD.map(inner=>inner.map(v=>v/2)),threeD:threeD,fourD:fourD,X:arr1,Y:arr2,X_log:arr1.map((_,i)=>.1*(i+1)),title_twoD:"NeXus 2D",oneD_str:["foo","bar"],errors_twoD:arr2.map(offset=>arr1.map(val=>Math.abs(val-offset))),fourD_image:fourD,oneD_errors:oneD.map(x=>Math.abs(x)/10),threeD_bool:[[[!0,!1,!0,!1],[!0,!0,!0,!0],[!1,!1,!1,!1]],[[!0,!1,!1,!1],[!0,!0,!0,!0],[!1,!1,!0,!1]]],scalar_cplx:new complex_default.a(1,5),twoD_cplx:[[new complex_default.a(0,-5),new complex_default.a(-2.1,-2)],[new complex_default.a(5,0),new complex_default.a(-3,.1)]]},intType={class:DTypeClass.Integer,endianness:Endianness.LE,size:32},floatType={class:DTypeClass.Float,endianness:Endianness.LE,size:64},stringType={class:DTypeClass.String,charSet:"ASCII"},compoundType={class:DTypeClass.Compound,fields:{int:intType}},booleanType={class:DTypeClass.Bool},complexType={class:DTypeClass.Complex,realType:floatType,imagType:floatType};function makeAttr(name,type,shape,value){return{name:name,type:type,shape:shape,value:value}}function makeScalarAttr(name,type,value){return makeAttr(name,type,[],value)}function makeStrAttr(name,value){return makeScalarAttr(name,stringType,value)}function makeGroup(name,children=[],opts={}){const{attributes:attributes=[],link:link,isRoot:isRoot=!1}=opts,path=isRoot?"/":"/".concat(name),group={name:name,path:path,kind:EntityKind.Group,children:children,attributes:attributes,link:link};return function prefixChildrenPaths(group,parentPath){group.children.forEach(c=>{c.path=function buildEntityPath(parentPath,entityNameOrRelativePath){return"".concat("/"===parentPath?"":parentPath,"/").concat(entityNameOrRelativePath)}(parentPath,c.path.slice(1)),isGroup(c)&&prefixChildrenPaths(c,parentPath)})}(group,path),group}function makeDataset(name,type,shape,opts={}){const{attributes:attributes=[],valueId:valueId=name,link:link}=opts;return{name:name,path:"/".concat(name),kind:EntityKind.Dataset,attributes:attributes,shape:shape,type:type,value:mockValues[valueId],link:link}}function makeScalarDataset(name,type,opts={}){return makeDataset(name,type,[],opts)}function makeUnresolvedEntity(name,linkClass,pathToEntity,file){return{name:name,path:"/".concat(name),kind:EntityKind.Unresolved,attributes:[],link:{class:linkClass,file:file,path:pathToEntity}}}function makeNxAxesAttr(axes){return makeAttr("axes",stringType,[axes.length],axes)}function makeSilxStyleAttr(style){const{signalScaleType:signalScaleType,axesScaleType:axesScaleType}=style;return makeStrAttr("SILX_style",JSON.stringify({signal_scale_type:signalScaleType,axes_scale_type:axesScaleType}))}function makeNxGroup(name,type,opts={}){const{defaultPath:defaultPath,children:children,...groupOpts}=opts;return makeGroup(name,children,{...groupOpts,attributes:[...groupOpts.attributes||[],makeStrAttr("NX_class",type),...defaultPath?[makeStrAttr("default",defaultPath)]:[]]})}function makeNxDataGroup(name,opts){const{signal:signal,title:title,errors:errors,silxStyle:silxStyle,axes:axes={},axesAttr:axesAttr,auxiliary:auxiliary={},auxAttr:auxAttr,...groupOpts}=opts;return makeNxGroup(name,"NXdata",{...groupOpts,attributes:[...groupOpts.attributes||[],makeStrAttr("signal",signal.name),...axesAttr?[makeNxAxesAttr(axesAttr)]:[],...silxStyle?[makeSilxStyleAttr(silxStyle)]:[],...auxAttr?[(aux=auxAttr,makeAttr("auxiliary_signals",stringType,[aux.length],aux))]:[]],children:[signal,...title?[title]:[],...errors?[errors]:[],...Object.values(axes),...Object.values(auxiliary)]});var aux}function makeNxDataset(name,type,dims,opts={}){const{interpretation:interpretation,longName:longName,units:units,...datasetOpts}=opts;return makeDataset(name,type,dims,{...datasetOpts,attributes:[...datasetOpts.attributes||[],...interpretation?[makeStrAttr("interpretation",interpretation)]:[],...longName?[makeStrAttr("long_name",longName)]:[],...units?[makeStrAttr("units",units)]:[]]})}const mockMetadata=makeNxGroup("source.h5","NXroot",{isRoot:!0,defaultPath:"nexus_entry",children:[makeGroup("entities",[makeGroup("empty_group"),makeDataset("empty_dataset",intType,null),function makeDatatype(name,type,opts={}){const{attributes:attributes=[],link:link}=opts;return{name:name,path:"/".concat(name),kind:EntityKind.Datatype,attributes:attributes,type:type,link:link}}("datatype",compoundType),makeScalarDataset("raw",compoundType),makeScalarDataset("raw_large",compoundType),makeScalarDataset("scalar_int",intType),makeScalarDataset("scalar_str",stringType),makeScalarDataset("scalar_bool",booleanType),makeScalarDataset("scalar_cplx",complexType),makeUnresolvedEntity("unresolved_hard_link","Hard"),makeUnresolvedEntity("unresolved_soft_link","Soft","/foo"),makeUnresolvedEntity("unresolved_external_link","External","entry_000/dataset","my_file.h5")]),makeGroup("nD_datasets",[makeDataset("oneD_linear",intType,[41]),makeDataset("oneD",intType,[41]),makeDataset("twoD",intType,[20,41]),makeDataset("twoD_cplx",complexType,[2,2]),makeDataset("threeD",intType,[9,20,41]),makeDataset("threeD_bool",booleanType,[2,3,4]),makeDataset("fourD",intType,[3,9,20,41])]),makeNxGroup("nexus_entry","NXentry",{defaultPath:"nx_process/nx_data",children:[makeNxGroup("nx_process","NXprocess",{children:[makeNxDataGroup("nx_data",{signal:makeNxDataset("twoD",intType,[20,41]),silxStyle:{signalScaleType:ScaleType.SymLog},title:makeScalarDataset("title",stringType,{valueId:"title_twoD"})}),makeNxGroup("absolute_default_path","NXentry",{defaultPath:"/nexus_entry/nx_process/nx_data"})]}),makeNxDataGroup("spectrum",{signal:makeNxDataset("twoD_spectrum",intType,[20,41],{interpretation:"spectrum",units:"arb. units"}),errors:makeNxDataset("errors",floatType,[20,41],{valueId:"errors_twoD"}),axes:{X:makeNxDataset("X",intType,[41],{units:"nm"})},axesAttr:[".","X"]}),makeNxDataGroup("image",{signal:makeNxDataset("fourD_image",intType,[3,9,20,41],{longName:"Interference fringes",interpretation:"image"}),axes:{X:makeNxDataset("X",intType,[41],{units:"nm"}),Y:makeNxDataset("Y",intType,[20],{units:"deg",longName:"Angle (degrees)"})},axesAttr:[".",".","Y","X"],silxStyle:{signalScaleType:ScaleType.Log}}),makeNxDataGroup("log_spectrum",{signal:makeNxDataset("oneD",intType,[41]),errors:makeNxDataset("oneD_errors",intType,[41]),axes:{X_log:makeNxDataset("X_log",floatType,[41])},axesAttr:["X_log"],silxStyle:{signalScaleType:ScaleType.Log,axesScaleType:[ScaleType.Log]}}),makeNxDataGroup("spectrum_with_aux",{signal:makeNxDataset("twoD_spectrum",intType,[20,41],{interpretation:"spectrum",units:"arb. units"}),errors:makeNxDataset("errors",floatType,[20,41],{valueId:"errors_twoD"}),axes:{X:makeNxDataset("X",intType,[41],{units:"nm"})},axesAttr:[".","X"],auxiliary:{secondary:makeNxDataset("secondary",intType,[20,41]),tertiary:makeNxDataset("tertiary",intType,[20,41])},auxAttr:["secondary","tertiary"]})]}),makeGroup("nexus_malformed",[makeGroup("default_not_string",[],{attributes:[makeScalarAttr("default",intType,42)]}),makeGroup("default_not_found",[],{attributes:[makeStrAttr("default","/test")]}),makeGroup("no_signal",[],{attributes:[makeStrAttr("NX_class","NXdata")]}),makeGroup("signal_not_found",[],{attributes:[makeStrAttr("NX_class","NXdata"),makeStrAttr("signal","unknown")]})])]});function assertMockDataset(entity){if(!function isMockDataset(entity){return isDataset(entity)&&"value"in entity}(entity))throw new Error("Expected mock dataset")}function findMockEntity(path){if(function assertAbsolutePath(path){if(!function isAbsolutePath(path){return path.startsWith("/")}(path))throw new Error("Expected path to start with '/'")}(path),"/"===path)return mockMetadata;const entity=path.slice(1).split("/").reduce((parentEntity,currSegment)=>parentEntity&&isGroup(parentEntity)?function getChildEntity(group,entityName){return group.children.find(child=>child.name===entityName)}(parentEntity,currSegment):void 0,mockMetadata);return assertDefined(entity,'Expected entity at path "'.concat(path,'"')),entity}function getMockDataArray(path){const dataset=findMockEntity(path);assertMockDataset(dataset);const{value:value}=dataset;return assertArray(value),function assertNumericType(dataset){if(!hasNumericType(dataset))throw new Error("Expected dataset to have numeric type")}(dataset),function assertArrayShape(dataset){if(!function hasArrayShape(dataset){return null!==dataset.shape&&dataset.shape.length>0}(dataset))throw new Error("Expected dataset to have array shape")}(dataset),ndarray_default()(value.flat(1/0),dataset.shape)}},804:function(module,exports){},860:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(458)},988:function(module,exports){}},[[598,1,2]]]);
//# sourceMappingURL=main.bfa81272f6073a4b26ec.bundle.js.map